<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>因吹斯汀</title>
  
  <subtitle>因吹斯汀</subtitle>
  <link href="https://xu-ux.github.io/atom.xml" rel="self"/>
  
  <link href="https://xu-ux.github.io/"/>
  <updated>2021-12-03T06:19:02.932Z</updated>
  <id>https://xu-ux.github.io/</id>
  
  <author>
    <name>xu-ux</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>记录一次NPM发包，以及NPM账号邮箱验证问题</title>
    <link href="https://xu-ux.github.io/post/2021/12/03/1b559a5909e9af1a/"/>
    <id>https://xu-ux.github.io/post/2021/12/03/1b559a5909e9af1a/</id>
    <published>2021-12-03T06:19:02.932Z</published>
    <updated>2021-12-03T06:19:02.932Z</updated>
    
    <content type="html"><![CDATA[<p>记录一次NPM发包，以及NPM账号邮箱验证问题。主要是点击确认邮箱地址时，还得使用上次登录成功的会话，这点没注意到，浪费了很多时间。并且导致push npm时一直失败。</p><span id="more"></span><h2 id="一、发包"><a href="#一、发包" class="headerlink" title="一、发包"></a>一、发包</h2><h3 id="①切换仓库"><a href="#①切换仓库" class="headerlink" title="①切换仓库"></a>①切换仓库</h3><p>需要使用官方的仓库，而不是镜像仓库<code>https://registry.npm.taobao.org/</code>，需要设置<code>https</code>而不是<code>http</code></p><pre><code class="shell">npm config set registry=https://registry.npmjs.org</code></pre><h3 id="②-发布"><a href="#②-发布" class="headerlink" title="② 发布"></a>② 发布</h3><ol><li><p>登录</p><p><code>npm login</code></p></li><li><p>发布命令</p><p><code>npm publish</code></p></li><li><p>发布成功后切换为镜像</p><p><code>npm config set registry=https://registry.npm.taobao.org/</code></p></li><li><p>最终报错<strong>403问题</strong></p><p>结果如下：</p></li></ol><pre><code class="shell">npm ERR! code E403npm ERR! 403 403 Forbidden - PUT https://registry.npmjs.org/hexo-tag-codepen-x - Forbiddennpm ERR! 403 In most cases, you or one of your dependencies are requestingnpm ERR! 403 a package version that is forbidden by your security policy.npm ERR! A complete log of this run can be found in:npm ERR!     D:\Program Files\nodejs\node_cache\_logs\2021-09-24T23_45_16_660Z-debug.log</code></pre><ol start="5"><li><p>403问题：npm未完成邮箱验证</p><p>百度了一下，应该是注册账户时，没有去激活邮箱导致的。</p><p>所以我立马去<a href="https://www.npmjs.com/">NPM</a>进行再次邮箱验证，npm发送了一封验证邮件（此时是在windows上操作的）</p><pre><code>邮件中存在激活地址：https://www.npmjs.com/verify/f932abfa-63f3-415c-9213-88236039af03</code></pre></li></ol><h2 id="二、-NPM账户邮箱激活失败"><a href="#二、-NPM账户邮箱激活失败" class="headerlink" title="二、 NPM账户邮箱激活失败"></a>二、 NPM账户邮箱激活失败</h2><p>在手机的邮箱APP内找到邮件</p><p>点击激活地址后出现</p><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/09/202109250903631.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/09/202109250903631.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210925075241731" style="zoom: 67%;" /><pre><code class="text">looks like something unexpected occurred!diagnostics id: 693fe9a57df761ac~2c11</code></pre><p>实际时没有激活成功的，此时<code>npm publish</code>还是会失败</p><h2 id="三、解决方案"><a href="#三、解决方案" class="headerlink" title="三、解决方案"></a>三、解决方案</h2><p>最终，将链接复制到已登录npm账户的windows浏览器中，才完成激活邮箱</p><p>再次尝试<code>npm publish</code>，发布成功！</p><pre><code class="shell">npm notice package: hexo-tag-codepen-x@1.0.0npm notice === Tarball Contents ===npm notice 1.1kB LICENSEnpm notice 1.8kB index.jsnpm notice 675B  package.jsonnpm notice 2.4kB README.mdnpm notice 2.3kB zh/README.mdnpm notice === Tarball Details ===npm notice name:          hexo-tag-codepen-xnpm notice version:       1.0.0npm notice package size:  3.4 kBnpm notice unpacked size: 8.3 kBnpm notice shasum:        872e466bab2a7e8be9a3df9aca9431e847047160npm notice integrity:     sha512-GN9ssDQ/Uy7SG[...]kfrgF6YXiOodw==npm notice total files:   5npm notice+ hexo-tag-codepen-x@1.0.0</code></pre><h2 id="四、其他，尝试发布到Github-Packages"><a href="#四、其他，尝试发布到Github-Packages" class="headerlink" title="四、其他，尝试发布到Github Packages"></a>四、其他，尝试发布到Github Packages</h2><blockquote><p><a href="https://docs.github.com/cn/packages/working-with-a-github-packages-registry/working-with-the-npm-registry">Github发包</a></p><p>注意： GitHub Packages 只支持作用域内的 npm 包。 作用域内的包具有名称格式 <code>@owner/name</code>。 作用域内的包总是以 <code>@</code> 符号开头。 您可能需要更新 <em>package.json</em> 中的名称以使用作用域内的名称。 例如，<code>&quot;name&quot;: &quot;@codertocat/hello-world-npm&quot;</code>。</p></blockquote><h3 id="㈠-命令式发布"><a href="#㈠-命令式发布" class="headerlink" title="㈠ 命令式发布"></a>㈠ 命令式发布</h3><h4 id="首先需要配置package-json"><a href="#首先需要配置package-json" class="headerlink" title="首先需要配置package.json"></a>首先需要配置<code>package.json</code></h4><pre><code class="json">&quot;publishConfig&quot;: &#123;　　&quot;registry&quot;: &quot;https://npm.pkg.github.com/&quot;&#125;,</code></pre><h4 id="获取token"><a href="#获取token" class="headerlink" title="获取token"></a>获取token</h4><p>这里的密码是Personal access tokens</p><p>需要的权限为：</p><p><a data-fancybox="images" data-caption="image-20210925084509943" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/09/202109250903543.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/09/202109250903543.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/09/202109250903543.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210925084509943"></a></p><pre><code class="shell">npm login --registry=https://npm.pkg.github.comUsername: [USERNAME] # 如：xu-uxPassword: [TOKEN] # 如：****************Email: (this IS public) [PUBLIC-EMAIL-ADDRESS] # 如：xu_uxo@163.comLogged in as xu-ux on https://npm.pkg.github.com/.</code></pre><h4 id="发布报错"><a href="#发布报错" class="headerlink" title="发布报错"></a>发布报错</h4><pre><code class="shell">npm ERR! code E404npm ERR! 404 Not Found - PUT https://npm.pkg.github.com/hexo-tag-codepen-xnpm ERR! 404npm ERR! 404  &#39;hexo-tag-codepen-x@1.0.0&#39; is not in the npm registry.npm ERR! 404 You should bug the author to publish it (or use the name yourself!)npm ERR! 404npm ERR! 404 Note that you can also install from anpm ERR! 404 tarball, folder, http url, or git url.</code></pre><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><p><strong>GitHub Packages 只支持作用域内的 npm 包</strong></p><p>所以修改包名</p><pre><code>  &quot;name&quot;: &quot;@xu-ux/hexo-tag-codepen-x&quot;,</code></pre><p>再次发布，成功</p><pre><code class="shell">npm notice package: @xu-ux/hexo-tag-codepen-x@1.0.0npm notice === Tarball Contents ===npm notice 1.1kB LICENSEnpm notice 1.8kB index.jsnpm notice 756B  package.jsonnpm notice 2.5kB README.mdnpm notice 2.4kB zh/README.mdnpm notice === Tarball Details ===npm notice name:          @xu-ux/hexo-tag-codepen-xnpm notice version:       1.0.0npm notice package size:  3.4 kBnpm notice unpacked size: 8.5 kBnpm notice shasum:        6a387fe4e65edeb8c8e2111fb267c1e4c3032313npm notice integrity:     sha512-bjL6fWv1AazIb[...]iIHOVQ7iefKVQ==npm notice total files:   5npm notice+ @xu-ux/hexo-tag-codepen-x@1.0.0</code></pre><h3 id="㈡-配置发布"><a href="#㈡-配置发布" class="headerlink" title="㈡ 配置发布"></a>㈡ 配置发布</h3><p>除了使用命令式输入<code>Token</code>外(每次都要输入比较麻烦)</p><ol><li><p>还可以将<code>Token</code>添加至<code>~/.npmrc</code>，<code>win</code>用户是路径<code>C://users/current-user</code></p><pre><code>//npm.pkg.github.com/:_authToken=TOKEN</code></pre></li><li><p>在<code>package.json</code>所在目录创建一个<code>.npmrc</code>文件，并添加以下内容</p><pre><code>registry=https://npm.pkg.github.com/GitHub用户名</code></pre></li><li><p>发布</p><p>可以直接使用<code>npm publish</code>，也不用在<code>package.json</code>填写<code>publishConfig</code></p></li></ol><h3 id="㈢-安装"><a href="#㈢-安装" class="headerlink" title="㈢ 安装"></a>㈢ 安装</h3><p>需要注意的是，无论发布包还是安装包都需要授权，也就是上述生成<code>Token</code>以及配置的过程，否则无法安装指定的包。</p><h4 id="Ⅰ-已配置-npmrc"><a href="#Ⅰ-已配置-npmrc" class="headerlink" title="Ⅰ.已配置~/.npmrc"></a>Ⅰ.已配置<code>~/.npmrc</code></h4><p>已经配置了<code>.npmrc</code>文件的，可以直接使用如下命令</p><pre><code class="shell">npm install @xu-ux/hexo-tag-codepen-x@1.0.0 --registry=https://npm.pkg.github.com/</code></pre><h4 id="Ⅱ-使用命令方式"><a href="#Ⅱ-使用命令方式" class="headerlink" title="Ⅱ.使用命令方式"></a>Ⅱ.使用命令方式</h4><p>首先登录</p><pre><code class="shell">npm login --registry=https://npm.pkg.github.com&gt; Username: USERNAME&gt; Password: TOKEN&gt; Email: PUBLIC-EMAIL-ADDRESS</code></pre><p>再安装</p><pre><code class="shell">npm install @xu-ux/hexo-tag-codepen-x@1.0.0</code></pre>]]></content>
    
    
    <summary type="html">记录一次NPM发包，以及NPM账号邮箱验证问题</summary>
    
    
    
    <category term="开发" scheme="https://xu-ux.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="npm" scheme="https://xu-ux.github.io/tags/npm/"/>
    
    <category term="nodejs" scheme="https://xu-ux.github.io/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>LocalDate、LocalTime、LocalDateTime的常用API和计算</title>
    <link href="https://xu-ux.github.io/post/2021/12/03/088468ced2772298/"/>
    <id>https://xu-ux.github.io/post/2021/12/03/088468ced2772298/</id>
    <published>2021-12-03T06:07:09.000Z</published>
    <updated>2021-12-03T06:19:02.928Z</updated>
    
    <content type="html"><![CDATA[<h1 id="LocalDate、LocalTime、LocalDateTime的常用API和计算"><a href="#LocalDate、LocalTime、LocalDateTime的常用API和计算" class="headerlink" title="LocalDate、LocalTime、LocalDateTime的常用API和计算"></a>LocalDate、LocalTime、LocalDateTime的常用API和计算</h1><p>从Java 8开始，<code>java.time</code>包提供了新的日期和时间API，主要涉及的类型有：</p><ul><li>本地日期和时间：<code>LocalDateTime</code>，<code>LocalDate</code>，<code>LocalTime</code>；</li><li>带时区的日期和时间：<code>ZonedDateTime</code>；</li><li>时刻：<code>Instant</code>；</li><li>时区：<code>ZoneId</code>，<code>ZoneOffset</code>；</li><li>时间间隔：<code>Duration</code>。</li></ul><p>以及一套新的用于取代<code>SimpleDateFormat</code>的格式化类型<code>DateTimeFormatter</code>。</p><p>本文仅仅简述部分接口，详细还请了解<a href="https://docs.oracle.com/javase/8/docs/api/">官方API文档</a></p><h2 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h2><p><code>LocalDateTime</code>表示日期和时间</p><p><code>LocalDate</code>用来表示日期</p><p><code>LocalTIme</code>表示时间，大概就是<code>LocalDateTime = LocalDate + LocalTime</code></p><p><code>ZonedDateTime</code>带时区的日期和时间</p><p>他们的关系：</p><p><a data-fancybox="images" data-caption="" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/12/202112031410200.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/12/202112031410200.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/12/202112031410200.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a></p><h3 id="常用解析"><a href="#常用解析" class="headerlink" title="常用解析"></a>常用解析</h3><pre><code class="java">LocalTime.of(int hour,int minute,int second)// 指定时、分、秒，参数不可缺省LocalDate.of(int year,int mouth,int day)// 指定年、月、日，参数不可缺省，这里指定月份的话是从1开始，与Calendar不同，Calendar的月份是从0开始，这也就是LocalDate比Calendar处理时间要方便的多。LocalDate.of(int year,MOUTH mouth,int day)// 指定年、月、日LocalDateTime.of(nt year,int mouth,int day,int hour,int minute,int second,int nanoOfSecond)// 指定年、月、日、时、分、秒、纳秒，参数可缺省LocalDateTime.of(nt year,MOUTH mouth,int day,int hour,int minute,int second,int nanoOfSecond)LocalDateTime.of(LocalDate localDate,LocalTime localTime)// 指定localDate localTime组合成日期时间</code></pre><p>这里我们使用常用构造打印一下：</p><pre><code class="java">    public static void main(String args[] )&#123;        // 当前日期和时间        LocalDateTime localDateTime = LocalDateTime.now();        // 转换到当前日期        LocalDate localDate = localDateTime.toLocalDate();        // 转换到当前时间        LocalTime localTime = localDateTime.toLocalTime();        // LocalDate的部分构造        LocalDate localDate1 = LocalDate.now();        LocalDate localDate2 = LocalDate.of(2020, 02, 20);        LocalDate localDate3 = LocalDate.parse(&quot;2020-02-20&quot;);        LocalDate localDate4 = LocalDate.of(2020, Month.FEBRUARY, 20);        // LocalDate的部分构造        LocalTime localTime1 = LocalTime.now();        LocalTime localTime2 = LocalTime.parse(&quot;07:30&quot;);        LocalTime localTime3 = LocalTime.of(7, 30);        LocalTime localTime4 = LocalTime.of(7, 29, 59, 999000123);        // LocalDateTime的部分构造        LocalDateTime localDateTime1 = LocalDateTime.of(localDate1, localTime1);        LocalDateTime localDateTime2 = LocalDateTime.now();        LocalDateTime localDateTime3 = LocalDateTime.now(ZoneId.of(&quot;America/Chicago&quot;));        LocalDateTime localDateTime4 = LocalDateTime.parse(&quot;2020-02-20T08:15:59&quot;);                // 获取时区        ZoneId romeZone = ZoneId.of(&quot;Europe/Rome&quot;);        ZoneId defaultZone = TimeZone.getDefault().toZoneId();        // 获取当前时刻        Instant instant = Instant.now();        // 获取日期和日期时间        LocalDate localDate5 = LocalDate.of(2020, Month.OCTOBER, 31);        LocalDateTime localDateTime5 = LocalDateTime.of(2020, Month.OCTOBER, 31, 13, 45);        ZonedDateTime zonedDateTime1 = localDate5.atStartOfDay(romeZone);        ZonedDateTime zonedDateTime2 = localDateTime5.atZone(romeZone);        ZonedDateTime zonedDateTime3 = instant.atZone(romeZone);        ZonedDateTime zonedDateTime4 = instant.atZone(defaultZone);    &#125;    </code></pre><p>输出：</p><pre><code class="shell">=======================================localDate = 2021-09-16localTime = 09:59:50.002localDateTime = 2021-09-16T09:59:50.002=======================================localDate1 = 2021-09-16localDate2 = 2020-02-20localDate3 = 2020-02-20localDate4 = 2020-02-20=======================================localTime1 = 09:59:50.016localTime2 = 07:30localTime3 = 07:30localTime4 = 07:29:59.999000123=======================================localDateTime1 = 2021-09-16T09:59:50.016localDateTime2 = 2021-09-16T09:59:50.016localDateTime3 = 2021-09-15T20:59:50.017localDateTime4 = 2020-02-20T08:15:59=======================================zonedDateTime1 = 2020-10-31T00:00+01:00[Europe/Rome]zonedDateTime2 = 2020-10-31T13:45+01:00[Europe/Rome]zonedDateTime3 = 2021-09-16T04:20:52.591+02:00[Europe/Rome]zonedDateTime4 = 2021-09-16T10:20:52.591+08:00[Asia/Shanghai]=======================================</code></pre><p>这里的新API全部按照[ISO 8601](./日期与时间基本概念和格式介绍.md#ISO 8601)格式打印，本地日期和时间通过<code>now()</code>获取到的总是以当前默认时区返回的，和旧API不同，<code>LocalDateTime</code>、<code>LocalDate</code>和<code>LocalTime</code>默认严格按照<a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a>规定的日期和时间格式进行打印。</p><h3 id="JDBC对新类型的支持"><a href="#JDBC对新类型的支持" class="headerlink" title="JDBC对新类型的支持"></a>JDBC对新类型的支持</h3><pre><code>date -&gt; LocalDatetime -&gt; LocalTimetimestamp -&gt; LocalDateTime</code></pre><h2 id="二、LocalDate"><a href="#二、LocalDate" class="headerlink" title="二、LocalDate"></a>二、LocalDate</h2><h3 id="①常用的构造方法"><a href="#①常用的构造方法" class="headerlink" title="①常用的构造方法"></a>①常用的构造方法</h3><pre><code class="java">        // 常用的构造方法        LocalDate localDate1 = LocalDate.of(2020, 6, 30);//2020-06-30        LocalDate localDate2 = LocalDate.parse(&quot;2020-06-30&quot;);//2020-06-30        LocalDate localDate3_1 = LocalDate.now();//2021-09-16        LocalDate localDate3_2 = LocalDate.now(ZoneId.of(&quot;Europe/Paris&quot;));//2021-09-16        LocalDate localDate4 = LocalDate.ofYearDay(2020, 160);//2020-06-08</code></pre><p><code>now()</code>默认是获取当前系统所在的时区，也可以通过设置<code>ZoneId</code>来设定</p><p>除了<code>LocalDate</code>还有一些辅助的类<code>YearMonth</code>、<code>Month</code>、 <code>MonthDay</code></p><pre><code class="java">        YearMonth yearMonth = YearMonth.now();// 2021-09        Month month = Month.from(yearMonth);// SEPTEMBER        MonthDay monthDay = MonthDay.of(month, 1);// --09-01</code></pre><h3 id="②常用方法"><a href="#②常用方法" class="headerlink" title="②常用方法"></a>②常用方法</h3><p>先看看一个localDate对象能够给我们提供什么</p><pre><code class="java">        // 创建LocalDate对象        LocalDate date = LocalDate.of(2020, 6, 15);//2020-06-15        // 年份        int year = date.getYear();//2020        // 月份        Month month = date.getMonth();//JUNE        // 获取该月的第几天        int dayOfMoneth = date.getDayOfMonth();//15        // 获取该年的第几天        int dayOfYear = date.getDayOfYear();//167        // 获取星期几        DayOfWeek dow = date.getDayOfWeek();//MONDAY        // 月份的长度        int length = date.lengthOfMonth();//30        // 是否是闰年        boolean leap = date.isLeapYear();//true                // 年份        int year2 = date.get(ChronoField.YEAR);//2020        // 月份        int month2 = date.get(ChronoField.MONTH_OF_YEAR);//6        // 获取该月的第几天        int day2 = date.get(ChronoField.DAY_OF_MONTH);//15        // 获取星期几        int week2 = date.get(ChronoField.DAY_OF_WEEK);//1        // 对齐周，若周一为每月1号，这该周处于第几周        int alignWeek = date.get(ChronoField.ALIGNED_WEEK_OF_MONTH);//3        // 对齐天，若周一为每月1号，这该天是对齐周的第几天        int alignDay = date.get(ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH);//1</code></pre><h3 id="③计算相关"><a href="#③计算相关" class="headerlink" title="③计算相关"></a>③计算相关</h3><pre><code class="java">        /************************* 加减计算 ****************************/        // 增加天数，date1往后增加50天        LocalDate date3 = date1.plusDays(50);//2020-08-19        // 减少天数，date1往前推10天        LocalDate date4 = date1.minusDays(10);//2020-06-20        // 增加周，date1往后增加1周        LocalDate date5 = date1.plusWeeks(1);//2020-07-07        // 增加月，date1往后增加6个月        LocalDate date6 = date1.plus(6, ChronoUnit.MONTHS);//2020-12-30        // 减少月，date1往前推2个月        LocalDate date7 = date1.minus(2, ChronoUnit.MONTHS);//2020-04-30        // 减少年，date1往前推3年        LocalDate date8 = date1.minusYears(3);//2017-06-30        // 增加年，date1往后推2年        LocalDate date9 = date1.plusYears(2);//2022-06-30        // 间隔天数，计算date3和date1相差多少天        long interval =  date3.toEpochDay() - date1.toEpochDay();//50        // 间隔日期        Period between = Period.between(date1, date2);// 2月+16天        /************************* 调整和操纵 ****************************/        // 指定年份        LocalDate date20 = date1.withYear(1997);//1997-06-30        // 指定当月第几天        LocalDate date21 = date1.withDayOfMonth(25);//2020-06-25        // 指定月份        LocalDate date22 = date1.with(ChronoField.MONTH_OF_YEAR, 9);//2020-09-30        // 该月第一天        LocalDate firstDay1 = date2.withDayOfMonth(1);//2020-09-01        // 使用TemporalAdjusters工厂方法，获取该月第一天        LocalDate firstDay2 = date2.with(TemporalAdjusters.firstDayOfMonth());//2020-09-01        // 该月最后一天        LocalDate endDay = date2.with(TemporalAdjusters.lastDayOfMonth());//2020-09-30        // 该年最后一天        LocalDate endDayOfYear = date2.with(TemporalAdjusters.lastDayOfYear()); //2020-12-31                // 将日期调整为在调整日期之后指定的星期几的第一次出现        LocalDate nextSameDay = date2.with(TemporalAdjusters.nextOrSame(DayOfWeek.SUNDAY));//2020-09-20        // 取date2的第1月的第一个周一        LocalDate firstMondayOfMONDAY = date2.withMonth(1).with(TemporalAdjusters.firstInMonth(DayOfWeek.MONDAY)); // 2019-01-06          /************************* 间隔值计算 ****************************/        LocalDate localDate = LocalDate.of(2018, 1, 1);        LocalDate today = LocalDate.now();        // 获取相差的天数        long betweenDays = localDate.until(today, ChronoUnit.DAYS);// 1355        // 获取相差的星期数        long betweenWeeks = localDate.until(today, ChronoUnit.WEEKS);// 193        // 获取相差的年        long betweenYears = localDate.until(today, ChronoUnit.YEARS);// 3        // 获取相差的世纪        LocalDate pass = LocalDate.of(1911, 1, 1);        long betweenCenturies = pass.until(today, ChronoUnit.CENTURIES);// 1        // 获取相差的几十年 10年为1个单位        LocalDate passDecades = LocalDate.of(2000, 1, 1);        long betweenDecades = passDecades.until(today, ChronoUnit.DECADES);// 2        // 获取相差的纪元        LocalDate passEras = LocalDate.of(2000, 1, 1);        long betweenEras = passEras.until(today, ChronoUnit.ERAS);// 0        // 获取相差几个小时        LocalDateTime localDateTime = LocalDateTime.parse(&quot;2020-09-15T14:26:48&quot;);        LocalDateTime nowDateTime = LocalDateTime.now();        long betweenHours = localDateTime.until(nowDateTime, ChronoUnit.HOURS);// 8807</code></pre><p>关于TemporalAdjusters可以看<a href="#%E4%BA%94%E3%80%81TemporalAdjuster">TemporalAdjuster</a></p><p><strong>匹配周期性的日期</strong></p><pre><code class="java">        // 计算周期性的日期，比如9·18国家纪念日        MonthDay memorialDay = MonthDay.of(9, 18);        MonthDay nowDay = MonthDay.from(LocalDate.now());        // 今天是否是9月8号        boolean isNow = memorialDay.equals(nowDay); // false        // 间隔几天        int betweenDay = Math.abs(memorialDay.getDayOfMonth() - nowDay.getDayOfMonth());// 1</code></pre><h2 id="三、LocalTime"><a href="#三、LocalTime" class="headerlink" title="三、LocalTime"></a>三、LocalTime</h2><h3 id="Ⅰ-常用方法"><a href="#Ⅰ-常用方法" class="headerlink" title="Ⅰ.常用方法"></a>Ⅰ.常用方法</h3><pre><code class="java">        /*********** 创建LocalTime **********/        LocalTime time = LocalTime.of(15, 27, 30);// 15:27:30        int hour = time.getHour();// 15        int minute = time.getMinute();// 27        int second = time.getSecond();// 30        LocalTime time1 = LocalTime.parse(&quot;16:27:30.915002654&quot;);// 16:27:30.915002654        LocalTime time2 = LocalTime.parse(&quot;16:27:30&quot;);// 16:27:30        LocalTime time3 = LocalDateTime.now().toLocalTime();// 16:40:04.408        /*********** 计算 **********/        // 增加60秒        LocalTime time4 = time.plus(60, ChronoUnit.SECONDS);// 15:28:30        // 减少10分钟        LocalTime time5 = time.plus(-10, ChronoUnit.MINUTES);// 15:17:30        // 增加3秒        LocalTime time6 = time.minus(Duration.ofSeconds(3));// 15:27:27</code></pre><h3 id="Ⅱ-日期类、时间类、日期时间类通用方法"><a href="#Ⅱ-日期类、时间类、日期时间类通用方法" class="headerlink" title="Ⅱ. 日期类、时间类、日期时间类通用方法"></a>Ⅱ. 日期类、时间类、日期时间类通用方法</h3><p>通过<code>LocalDate</code>、<code>LocalTime</code>我们可以看到他们的某些API基本都有</p><table><thead><tr><th>方 法 名</th><th>是否是静态方法</th><th>方法描述</th></tr></thead><tbody><tr><td>from</td><td>是</td><td>依据传入的 Temporal 对象创建对象实例</td></tr><tr><td>now</td><td>是</td><td>依据系统时钟创建 Temporal 对象</td></tr><tr><td>of</td><td>是</td><td>由 Temporal 对象的某个部分创建该对象的实例</td></tr><tr><td>parse</td><td>是</td><td>由字符串创建 Temporal 对象的实例</td></tr><tr><td>atOffset</td><td>否</td><td>将 Temporal 对象和某个时区偏移相结合</td></tr><tr><td>atZone</td><td>否</td><td>将 Temporal 对象和某个时区相结合</td></tr><tr><td>format</td><td>否</td><td>使用某个指定的格式器将Temporal 对象转换为字符串（Instant 类不提供该方法）</td></tr><tr><td>get</td><td>否</td><td>读取 Temporal 对象的某一部分的值</td></tr><tr><td>minus</td><td>否</td><td>创建 Temporal 对象的一个副本，通过将当前 Temporal 对象的值减去一定的时长创建该副本</td></tr><tr><td>plus</td><td>否</td><td>创建 Temporal 对象的一个副本，通过将当前 Temporal 对象的值加上一定的时长创建该副本</td></tr><tr><td>with</td><td>否</td><td>以该 Temporal 对象为模板，对某些状态进行修改创建该对象的副本</td></tr></tbody></table><h2 id="四、LocalDateTime"><a href="#四、LocalDateTime" class="headerlink" title="四、LocalDateTime"></a>四、LocalDateTime</h2><h3 id="①常用构造"><a href="#①常用构造" class="headerlink" title="①常用构造"></a>①常用构造</h3><pre><code class="java">/*********** 创建LocalDateTime **********/LocalDate date = LocalDate.of(2020, 1, 1);// 2020-01-01LocalTime time = LocalTime.of(10, 56, 30);// 10:56:30LocalDateTime dt1 = LocalDateTime.of(2020, Month.FEBRUARY, 27, 13, 45, 20);// 2020-02-27T13:45:20LocalDateTime dt2 = LocalDateTime.of(date, time);// 2020-01-01T10:56:30LocalDateTime dt3 = date.atTime(9, 40, 36);// 2020-01-01T09:40:36LocalDateTime dt4 = date.atTime(time);// 2020-01-01T10:56:30LocalDateTime dt5 = time.atDate(date);// 2020-01-01T10:56:30LocalDateTime dt6 = LocalDateTime.parse(&quot;2020-10-01T10:01:59&quot;);// 2020-10-01T10:01:59</code></pre><h3 id="②计算操纵"><a href="#②计算操纵" class="headerlink" title="②计算操纵"></a>②计算操纵</h3><pre><code class="java">/*********** 计算LocalDateTime **********/LocalDateTime now = LocalDateTime.now();// 2021-09-17T17:14:59.601// 增加指定值LocalDateTime dateTime = now.plusYears(1)    .plusMonths(2L)    .plusWeeks(4)    .plusDays(10)    .plusHours(18)    .plusMinutes(12)    .plusSeconds(1)    .plusNanos(600000L); // 2022-12-26T11:27:00.601600// 增加半天LocalDateTime dateTime1 = now.plus(1, ChronoUnit.HALF_DAYS);// 2021-09-18T05:14:59.601// 增加2天LocalDateTime dateTime2 = now.plus(2, ChronoUnit.DAYS);// 2021-09-19T17:14:59.601// 世纪LocalDateTime dateTime3 = now.plus(1, ChronoUnit.CENTURIES);// 2121-09-17T17:14:59.601// 增加二十年LocalDateTime dateTime4 = now.plus(2, ChronoUnit.DECADES);// 2041-09-17T17:14:59.601// 减少1千年LocalDateTime dateTime5 = now.minus(1, ChronoUnit.MILLENNIA);// 1021-09-17T17:14:59.601// 永恒，执行不成功LocalDateTime dateTime6 = now.plus(1, ChronoUnit.FOREVER);// 微秒，执行不成功LocalDateTime dateTime7 = now.plus(1, ChronoUnit.MICROS);// 时代，执行不成功LocalDateTime dateTime8 = now.plus(1, ChronoUnit.ERAS);/*********** 操纵LocalDateTime **********/LocalDateTime localDateTime = LocalDateTime.of(2020, Month.FEBRUARY, 27, 13, 45, 20);// 2020-02-27T13:45:20LocalDateTime dateTime9 = localDateTime.withYear(2021); // 2021-02-27T13:45:20LocalDateTime dateTime10 = localDateTime.withMonth(2); // 2020-02-27T13:45:20LocalDateTime dateTime11 = localDateTime.withDayOfMonth(1); // 2020-02-01T13:45:20LocalDateTime dateTime12 = localDateTime.with(TemporalAdjusters.lastDayOfMonth());// 2020-02-29T13:45:20LocalDateTime dateTime13 = localDateTime.with(TemporalAdjusters.firstDayOfMonth());// 2020-02-01T13:45:20// 设置为当前所处时间的周一LocalDateTime dateTime14 = localDateTime.with(ChronoField.DAY_OF_WEEK, 1);// 2020-02-24T13:45:20// 日期设置月为3，并且设置为当月的第一个周二LocalDateTime dateTime15 = localDateTime.with(ChronoField.MONTH_OF_YEAR, 3)    .with(TemporalAdjusters.firstInMonth(DayOfWeek.TUESDAY));// 2020-03-03T13:45:20</code></pre><h3 id="③时间操作API"><a href="#③时间操作API" class="headerlink" title="③时间操作API"></a>③时间操作API</h3><table><thead><tr><th>序号</th><th>函数</th><th>返回</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>plus</td><td>LocalDateTime</td><td>加上指定数量的时间得到的值</td></tr><tr><td>2</td><td>plusDays</td><td>LocalDateTime</td><td>加上指定天数得到的值</td></tr><tr><td>3</td><td>plusHours</td><td>LocalDateTime</td><td>加上指定小时数得到的值</td></tr><tr><td>4</td><td>plusMinutes</td><td>LocalDateTime</td><td>加上指定分钟数得到的值</td></tr><tr><td>5</td><td>plusMonths</td><td>LocalDateTime</td><td>加上指定月数得到的值</td></tr><tr><td>6</td><td>plusNanos</td><td>LocalDateTime</td><td>加上指定纳秒数得到的值</td></tr><tr><td>7</td><td>plusSeconds</td><td>LocalDateTime</td><td>加上指定秒数得到的值</td></tr><tr><td>8</td><td>plusWeeks</td><td>LocalDateTime</td><td>加上指定星期数得到的值</td></tr><tr><td>9</td><td>plusYears</td><td>LocalDateTime</td><td>加上指定年数得到的值</td></tr><tr><td>10</td><td>with</td><td>LocalDateTime</td><td>指定字段更改为新值后的拷贝</td></tr><tr><td>11</td><td>withDayOfMonth</td><td>LocalDateTime</td><td>月的第几天更改为新值后的拷贝</td></tr><tr><td>12</td><td>withDayOfYear</td><td>LocalDateTime</td><td>年的第几天更改为新值后的拷贝</td></tr><tr><td>13</td><td>withHour</td><td>LocalDateTime</td><td>小时数更改为新值后的拷贝</td></tr><tr><td>14</td><td>withMinute</td><td>LocalDateTime</td><td>分钟数更改为新值后的拷贝</td></tr><tr><td>15</td><td>withMonth</td><td>LocalDateTime</td><td>月份更改为新值后的拷贝</td></tr><tr><td>16</td><td>withNano</td><td>LocalDateTime</td><td>纳秒数更改为新值后的拷贝</td></tr><tr><td>17</td><td>withSecond</td><td>LocalDateTime</td><td>秒数更改为新值后的拷贝</td></tr><tr><td>18</td><td>withYear</td><td>LocalDateTime</td><td>年份更改为新值后的拷贝</td></tr></tbody></table><h3 id="④获取时间属性值API"><a href="#④获取时间属性值API" class="headerlink" title="④获取时间属性值API"></a>④获取时间属性值API</h3><table><thead><tr><th>序号</th><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>get</td><td>得到LocalDateTime的指定字段的值</td></tr><tr><td>2</td><td>getDayOfMonth</td><td>得到LocalDateTime是月的第几天</td></tr><tr><td>3</td><td>getDayOfWeek</td><td>得到LocalDateTime是星期几</td></tr><tr><td>4</td><td>getDayOfYear</td><td>得到LocalDateTime是年的第几天</td></tr><tr><td>5</td><td>getHour</td><td>得到LocalDateTime的小时</td></tr><tr><td>6</td><td>getLong</td><td>得到LocalDateTime指定字段的值</td></tr><tr><td>7</td><td>getMinute</td><td>得到LocalDateTime的分钟</td></tr><tr><td>8</td><td>getMonth</td><td>得到LocalDateTime的月份，获取的结果是月份的枚举值</td></tr><tr><td>9</td><td>getMonthValue</td><td>得到LocalDateTime的月份，从1到12</td></tr><tr><td>10</td><td>getNano</td><td>得到LocalDateTime的纳秒数</td></tr><tr><td>11</td><td>getSecond</td><td>得到LocalDateTime的秒数</td></tr><tr><td>12</td><td>getYear</td><td>得到LocalDateTime的年份</td></tr></tbody></table><h3 id="⑤其他API"><a href="#⑤其他API" class="headerlink" title="⑤其他API"></a>⑤其他API</h3><table><thead><tr><th>序号</th><th>函数</th><th>描述</th><th>类别</th></tr></thead><tbody><tr><td>1</td><td>atOffset</td><td>结合LocalDateTime和ZoneOffset创建一个OffsetDateTime</td><td>时区相关</td></tr><tr><td>2</td><td>atZone</td><td>结合LocalDateTime和指定时区创建一个ZonedDateTime</td><td>时区相关</td></tr><tr><td>3</td><td>ofEpochSecond</td><td>根据秒数(从1970-01-0100:00:00开始)创建LocalDateTime</td><td>实例方法</td></tr><tr><td>4</td><td>ofInstant</td><td>根据Instant和ZoneId创建LocalDateTime</td><td>实例方法</td></tr><tr><td>5</td><td>compareTo</td><td>比较两个LocalDateTime，小于返回-1，等于返回0，大于返回1</td><td>比较方法</td></tr><tr><td>6</td><td>isAfter</td><td>判断LocalDateTime是否在指定LocalDateTime之后</td><td>比较方法</td></tr><tr><td>7</td><td>isBefore</td><td>判断LocalDateTime是否在指定LocalDateTime之前</td><td>比较方法</td></tr><tr><td>8</td><td>isEqual</td><td>判断两个LocalDateTime是否相等</td><td>比较方法</td></tr><tr><td>9</td><td>format</td><td>格式化LocalDateTime生成一个字符串</td><td>格式化方法</td></tr><tr><td>10</td><td>from</td><td>转换TemporalAccessor为LocalDateTime</td><td>格式化方法</td></tr><tr><td>11</td><td>parse</td><td>解析字符串得到LocalDateTime</td><td>格式化方法</td></tr><tr><td>12</td><td>isSupported</td><td>判断LocalDateTime是否支持指定时间字段或单元</td><td>其他</td></tr><tr><td>13</td><td>toString</td><td>返回LocalDateTime的字符串表示</td><td>其他</td></tr><tr><td>14</td><td>range</td><td>返回指定时间字段的数值范围范围（ChronoField）</td><td>其他</td></tr><tr><td>15</td><td>truncatedTo</td><td>返回LocalDateTime截取到指定时间单位的拷贝，如果无法截断抛DateTimeException，如果不支持截断单位抛UnsupportedTemporalTypeException</td><td>其他</td></tr><tr><td>16</td><td>until</td><td>计算LocalDateTime和另一个LocalDateTime之间的时间差，可以指定时间单位（ChronoUnit）</td><td>其他</td></tr><tr><td>17</td><td>adjustInto</td><td>将目标对象调整为指定的时间对象，指定对象调用方法，目标对象作为参数</td><td>其他</td></tr><tr><td>18</td><td>query</td><td>使用指定的查询查询此日期时间，查询LocalDateTime（TemporalQueries）</td><td>其他</td></tr></tbody></table><h2 id="五、TemporalAdjuster"><a href="#五、TemporalAdjuster" class="headerlink" title="五、TemporalAdjuster"></a>五、TemporalAdjuster</h2><h3 id="①TemporalAdjusters工厂类中的方法"><a href="#①TemporalAdjusters工厂类中的方法" class="headerlink" title="①TemporalAdjusters工厂类中的方法"></a>①<code>TemporalAdjusters</code>工厂类中的方法</h3><table><thead><tr><th>方 法 名</th><th>方法描述</th></tr></thead><tbody><tr><td>dayOfWeekInMonth</td><td>创建一个新的日期，它的值为同一个月中每一周的第几天</td></tr><tr><td>firstDayOfMonth</td><td>创建一个新的日期，它的值为当月的第一天</td></tr><tr><td>firstDayOfNextMonth</td><td>创建一个新的日期，它的值为下月的第一天</td></tr><tr><td>firstDayOfNextYear</td><td>创建一个新的日期，它的值为明年的第一天</td></tr><tr><td>firstDayOfYear</td><td>创建一个新的日期，它的值为当年的第一天</td></tr><tr><td>firstInMonth</td><td>创建一个新的日期，它的值为同一个月中，第一个符合星期几要求的值</td></tr><tr><td>lastDayOfMonth</td><td>创建一个新的日期，它的值为当月的最后一天</td></tr><tr><td>lastDayOfNextMonth</td><td>创建一个新的日期，它的值为下月的最后一天</td></tr><tr><td>lastDayOfNextYear</td><td>创建一个新的日期，它的值为明年的最后一天</td></tr><tr><td>lastDayOfYear</td><td>创建一个新的日期，它的值为今年的最后一天</td></tr><tr><td>lastInMonth</td><td>创建一个新的日期，它的值为同一个月中，最后一个符合星期几要求的值</td></tr><tr><td>next/previous</td><td>创建一个新的日期，并将其值设定为日期调整后或者调整前，第一个符合指定星期几要求的日期</td></tr><tr><td>nextOrSame/previousOrSame</td><td>创建一个新的日期，并将其值设定为日期调整后或者调整前，第一个符合指定星期几要求的日期，如果该日期已经符合要求，直接返回该对象</td></tr></tbody></table><h3 id="②TemporalAdjuster接口"><a href="#②TemporalAdjuster接口" class="headerlink" title="②TemporalAdjuster接口"></a>②TemporalAdjuster接口</h3><pre><code class="java">        LocalDate localDate1 = LocalDate.of(2020, 10, 1);        LocalDate localDate2 = localDate1.with(temporal -&gt; &#123;            // 获取星期几            DayOfWeek week = DayOfWeek.of(temporal.get(ChronoField.DAY_OF_WEEK));            int dayToAdd = 1;            if (DayOfWeek.FRIDAY.equals(week))                dayToAdd = 3;            else if (DayOfWeek.SATURDAY.equals(week))                dayToAdd = 2;            // 周五和周六分别加3天和2天，其余加1天            return temporal.plus(dayToAdd, ChronoUnit.DAYS);        &#125;);        System.out.println(localDate2);// 2020-10-02</code></pre><h2 id="六、DateTimeFormatter"><a href="#六、DateTimeFormatter" class="headerlink" title="六、DateTimeFormatter"></a>六、DateTimeFormatter</h2><h3 id="Ⅰ-一般用法"><a href="#Ⅰ-一般用法" class="headerlink" title="Ⅰ.一般用法"></a>Ⅰ.一般用法</h3><pre><code class="java">LocalDate date = LocalDate.of(2020, 10, 1);LocalDateTime dateTime = LocalDateTime.now();ZonedDateTime zonedDateTime = ZonedDateTime.now();// 自带的格式化器String s1 = date.format(DateTimeFormatter.BASIC_ISO_DATE);// 20201001String s2 = date.format(DateTimeFormatter.ISO_LOCAL_DATE);// 2020-10-01// 解析字符串LocalDate date1 = LocalDate.parse(&quot;20200918&quot;, DateTimeFormatter.BASIC_ISO_DATE);// 2020-09-18LocalDate date2 = LocalDate.parse(&quot;2018-01-15&quot;, DateTimeFormatter.ISO_LOCAL_DATE);// 2018-01-15// 自定义格式化器DateTimeFormatter timeFormatter1 = DateTimeFormatter.ofPattern(&quot;d. MMMM yyyy&quot;, Locale.CHINA);DateTimeFormatter timeFormatter2 = DateTimeFormatter.ofPattern(&quot;yyyy年MM月dd日&quot;);DateTimeFormatter timeFormatter3 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);DateTimeFormatter timeFormatter4 = DateTimeFormatter.ofPattern(&quot;MM月dd日&quot;);DateTimeFormatter timeFormatter5 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm ZZZZ&quot;);DateTimeFormatter zhFormatter = DateTimeFormatter.ofPattern(&quot;yyyy MMM dd EE HH:mm&quot;, Locale.CHINA);DateTimeFormatter usFormatter = DateTimeFormatter.ofPattern(&quot;E, MMMM/dd/yyyy HH:mm&quot;, Locale.US);String s3 = date.format(timeFormatter1);// 1. 十月 2020String s4 = date.format(timeFormatter2);// 2020年10月01日//String s5 = date.format(timeFormatter3);// 报错，没有时间可以格式化String s6 = dateTime.format(timeFormatter3);// 2021-09-17 17:44:17String s7 = date.format(timeFormatter4);// 10月01日LocalDate date4 = LocalDate.parse(s3, timeFormatter1);//2018-10-31//LocalDate date5 = LocalDate.parse(s7, timeFormatter4);// 报错，缺少年String s8 = zonedDateTime.format(usFormatter);// Fri, September/17/2021 17:48String s9 = zonedDateTime.format(zhFormatter);// 2021 九月 17 星期五 17:48String s10 = zonedDateTime.format(timeFormatter5);// 2021-09-17T17:48 GMT+08:00</code></pre><h3 id="Ⅱ-自定义"><a href="#Ⅱ-自定义" class="headerlink" title="Ⅱ.自定义"></a>Ⅱ.自定义</h3><pre><code class="java">                ZonedDateTime zonedDateTime = ZonedDateTime.now();        DateTimeFormatter italianFormatter = new DateTimeFormatterBuilder()                .appendText(ChronoField.DAY_OF_MONTH)                .appendLiteral(&quot;-&quot;)                .appendText(ChronoField.MONTH_OF_YEAR)                .appendLiteral(&quot;-&quot;)                .appendText(ChronoField.YEAR)                .appendLiteral(&quot;-&quot;)                .appendZoneRegionId()                .parseCaseInsensitive()                .toFormatter(Locale.CHINA);        String format = zonedDateTime.format(italianFormatter);//17-九月-2021-Asia/Shanghai        LocalDate parse = LocalDate.parse(format, italianFormatter);//2021-09-17</code></pre><h2 id="七、ZoneId、ZoneOffset、ZonedDateTime"><a href="#七、ZoneId、ZoneOffset、ZonedDateTime" class="headerlink" title="七、ZoneId、ZoneOffset、ZonedDateTime"></a>七、ZoneId、ZoneOffset、ZonedDateTime</h2><blockquote><p>①时间戳： 是指格林威治（地球零时区）时间1970年01月01日00时00分00秒起至现在的总秒数，这个时间戳，在地球的各个地方都是一致的;</p><p>②时区：由于地球的自转，根据接收太阳光照的顺序将地球划分成24个区，从而方便当地人的生产生活，每个时区相差一小时，可以根据时间戳和时区计算当地的时间。格林威治处于零时区，北京处于东八区，因此，北京时间比格林威治时间早8个小时</p><p>③UTC时间：就是零时区的时间，它的全称是Coordinated Universal Time ，即世界协调时间。另一个常见的缩写是GMT，即格林威治标准时间，格林威治位于 零时区，因此，我们平时说的UTC时间和GMT时间在数值上面都是一样的</p></blockquote><p>类<code>java.time.ZoneId</code>是原有的<code>java.util.TimeZone</code>类的替代品</p><p><a data-fancybox="images" data-caption="" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/12/202112031411157.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/12/202112031411157.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/12/202112031411157.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a></p><h3 id="①ZoneId"><a href="#①ZoneId" class="headerlink" title="①ZoneId"></a>①ZoneId</h3><h4 id="1-获取时区"><a href="#1-获取时区" class="headerlink" title="1. 获取时区"></a>1. 获取时区</h4><pre><code class="java">        // 获取默认时区        ZoneId systemZoneId = ZoneId.systemDefault();        // 获取上海时区        ZoneId shanghaiZoneId = ZoneId.of(&quot;Asia/Shanghai&quot;);        // 获取巴黎时区        ZoneId parisZoneId = ZoneId.of(&quot;Europe/Paris&quot;);         // 获取所有合法的“区域/城市”字符串        Set&lt;String&gt; zoneIds = ZoneId.getAvailableZoneIds();</code></pre><h4 id="2-和TimeZone的转换"><a href="#2-和TimeZone的转换" class="headerlink" title="2. 和TimeZone的转换"></a>2. 和TimeZone的转换</h4><pre><code class="java">        // 转换        ZoneId oldToNewZoneId = TimeZone.getDefault().toZoneId();</code></pre><h4 id="3-时区结合其他日期时间api"><a href="#3-时区结合其他日期时间api" class="headerlink" title="3. 时区结合其他日期时间api"></a>3. 时区结合其他日期时间api</h4><pre><code class="java">// 时区结合其他日期时间apiZonedDateTime zonedDateTime = ZonedDateTime.of(LocalDateTime.now(parisZoneId), shanghaiZoneId);// 打印：2021-09-17T04:58:36.247+08:00[Asia/Shanghai]</code></pre><h3 id="②ZoneOffset"><a href="#②ZoneOffset" class="headerlink" title="②ZoneOffset"></a>②ZoneOffset</h3><p>首先我们要明确北京时间比UTC快8个小时，所以应该是GMT+8:00</p><blockquote><p><strong>格林威治标准时间（GMT）</strong></p><p><strong>地区</strong>：英国 皇家格林尼治天文台</p><p><strong>时区</strong>：UTC/GMT 0 (零时区)</p><p><strong>北京时差</strong>：现在格林威治时间比北京时间晚8小时</p></blockquote><p><code>ZoneOffset</code>表示与格林威治/ UTC的时区偏移量；以当前时间和世界标准时间（UTC）/格林威治时间（GMT）的偏差来计算日期时间</p><pre><code class="java">// 偏移ZoneOffset beijing = ZoneOffset.of(&quot;+08:00&quot;);// +08:00ZoneOffset utc = ZoneOffset.of(&quot;+00:00&quot;);// Z// 获取UTC时间LocalDateTime utcTime = LocalDateTime.now(ZoneOffset.UTC);// 2021-09-17T03:30:05.972// 获取带时区和偏移的时间OffsetDateTime offsetDateTime = OffsetDateTime.of(utcTime, utc);// 2021-09-17T03:30:05.972Z// 获取带时区的时间ZonedDateTime utcDateTime = offsetDateTime.toZonedDateTime();// 2021-09-17T03:30:05.972Z// 转为本地时区的时间ZonedDateTime localDateTime = utcDateTime.withZoneSameInstant(ZoneId.of(&quot;Asia/Shanghai&quot;)); // 2021-09-17T11:30:05.972+08:00[Asia/Shanghai]</code></pre><h3 id="③ZonedDateTime"><a href="#③ZonedDateTime" class="headerlink" title="③ZonedDateTime"></a>③ZonedDateTime</h3><p><code>ZonedDateTime</code>对象由两部分构成，<code>LocalDateTime</code>和<code>ZoneId</code>，其中<code>2021-09-17T04:58:36.247</code>部分为LocalDateTime，<code>+08:00[Asia/Shanghai]</code>部分为ZoneId。</p><p>所以，总的来说：</p><p><code>ZonedDateTime</code>是带时区的日期和时间，可用于时区转换；</p><p><code>ZonedDateTime</code>和<code>LocalDateTime</code>可以相互转换。</p><h4 id="1-创建方法"><a href="#1-创建方法" class="headerlink" title="1. 创建方法"></a>1. 创建方法</h4><pre><code class="java">LocalDateTime ldt = LocalDateTime.of(2020, 9, 15, 10, 30, 17);// 2020-09-15T10:30:17ZonedDateTime zonedDateTime1 = ldt.atZone(ZoneId.systemDefault());// 2020-09-15T10:30:17+08:00[Asia/Shanghai]ZonedDateTime zonedDateTime2 = ldt.atZone(ZoneId.of(&quot;America/New_York&quot;));// 2020-09-15T10:30:17-04:00[America/New_York]</code></pre><h4 id="2-转换方法"><a href="#2-转换方法" class="headerlink" title="2. 转换方法"></a>2. 转换方法</h4><pre><code class="java">// 以中国时区获取当前时间:ZonedDateTime shangHai = ZonedDateTime.now(ZoneId.of(&quot;Asia/Shanghai&quot;));// 2021-09-17T11:46:26.960+08:00[Asia/Shanghai]// 转换为纽约时间:ZonedDateTime newYork = shangHai.withZoneSameInstant(ZoneId.of(&quot;America/New_York&quot;));// 2021-09-16T23:46:26.960-04:00[America/New_York]</code></pre><p>转换为<code>LocalDateTime</code>时，直接丢弃了时区信息。</p><pre><code class="java">LocalDateTime shangHaiDateTime = shangHai.toLocalDateTime();// 2021-09-17T11:48:26.050LocalDateTime newYorkDateTime = newYork.toLocalDateTime();// 2021-09-16T23:48:26.050</code></pre><h4 id="3-计算航班时间"><a href="#3-计算航班时间" class="headerlink" title="3. 计算航班时间"></a>3. 计算航班时间</h4><p>某航线从北京飞到纽约需要13小时15分钟，请根据北京起飞日期和时间计算到达纽约的当地日期和时间</p><pre><code class="java">// 起飞时间LocalDateTime departure = LocalDateTime.parse(&quot;2020-09-15T18:30:58&quot;);int hours = 13;int minutes = 15;ZonedDateTime departureZoned = ZonedDateTime.of(departure,ZoneId.of(&quot;Asia/Shanghai&quot;));// 通过ZonedDateTime计算并转换时区ZonedDateTime arrivalZoned = departureZoned.plusHours(hours).plusMinutes(minutes).withZoneSameInstant(ZoneId.of(&quot;America/New_York&quot;));LocalDateTime arrival = arrivalZoned.toLocalDateTime();System.out.println(departure + &quot; -&gt; &quot; + arrival);// 2020-09-15T18:30:58 -&gt; 2020-09-15T19:45:58</code></pre><h2 id="八、Instant"><a href="#八、Instant" class="headerlink" title="八、Instant"></a>八、Instant</h2><p>Instant是时间线上的一个点，表示一个时间戳。Instant可以精确到纳秒，这超过了long的最大表示范围，所以在Instant的实现中是分成了两部分来表示，一部分是seconds，表示从<code>1970-01-01 00:00:00</code>开始到现在的秒数，另一个部分是<code>nanos</code>，表示纳秒部分。以下是创建Instant的两种方法：</p><pre><code class="java">Instant now = Instant.now(); //获取当前时刻的时间戳，结果为：2020-04-02T07:30:23.811Z;Instant instant = Instant.ofEpochSecond(600, 1000000);//ofEpochSecond()方法的第一个参数为秒，第二个参数为纳秒，上面的代码表示从1970-01-01 00:00:00开始后一分钟的10万纳秒的时刻，//其结果为：1970-01-01T00:10:00.001Z。</code></pre><h2 id="九、Period和Duration"><a href="#九、Period和Duration" class="headerlink" title="九、Period和Duration"></a>九、Period和Duration</h2><ul><li>Period : 用于计算两个日期（年月日）间隔。</li><li>Duration : 用于计算两个时间（秒，纳秒）间隔。</li></ul><pre><code class="java">Duration minutes1 = Duration.ofMinutes(2);// 2分钟间隔Duration minutes2 = Duration.of(6, ChronoUnit.MINUTES); // 6分钟间隔Period days = Period.ofDays(20);Period weeks = Period.ofWeeks(5);Period period = Period.of(1, 2, 3); //1年2月3天 P1Y2M3D</code></pre><h3 id="①Period参与计算"><a href="#①Period参与计算" class="headerlink" title="①Period参与计算"></a>①Period参与计算</h3><p>结合<code>plus()</code>和<code>minus()</code>进行日期的加减</p><pre><code class="java">          LocalDate localDate = LocalDate.parse(&quot;2020-05-10&quot;);        LocalDate date1 = localDate.plus(Period.ofDays(5));// 2020-05-15        LocalDate date2 = localDate.plus(Period.ofMonths(2));// 2020-07-10</code></pre><h3 id="②计算间隔值，差值"><a href="#②计算间隔值，差值" class="headerlink" title="②计算间隔值，差值"></a>②计算间隔值，差值</h3><pre><code class="java">        LocalDate localDate = LocalDate.parse(&quot;2020-05-10&quot;);        LocalDate today = LocalDate.now();        Period period = Period.between(localDate, today);// 1年4月7天        // 相差天数        long between1 = ChronoUnit.DAYS.between(localDate, today);// 495        // 相差月份        long between2 = ChronoUnit.MONTHS.between(localDate, today);// 16</code></pre><h3 id="③Duration"><a href="#③Duration" class="headerlink" title="③Duration"></a>③Duration</h3><pre><code class="java">        LocalTime startTime = LocalTime.of(6, 30, 0);        LocalTime endTime = startTime.plusSeconds(120);        LocalTime endTime2 = startTime.plusNanos(6 * 1000000000L);        long betweenSec1 = Duration.between(startTime, endTime).getSeconds();// 120        long betweenSec2 = ChronoUnit.SECONDS.between(startTime, endTime);// 120        long betweenSec3 = Duration.between(startTime, endTime2).getSeconds();// 6</code></pre><h3 id="④Duration中的API"><a href="#④Duration中的API" class="headerlink" title="④Duration中的API"></a>④Duration中的API</h3><table><thead><tr><th>方 法 名</th><th>是否是静态方法</th><th>方法描述</th></tr></thead><tbody><tr><td>between</td><td>是</td><td>创建两个时间点之间的 interval</td></tr><tr><td>from</td><td>是</td><td>由一个临时时间点创建 interval</td></tr><tr><td>of</td><td>是</td><td>由它的组成部分创建 interval 的实例</td></tr><tr><td>parse</td><td>是</td><td>由字符串创建 interval 的实例</td></tr><tr><td>addTo</td><td>否</td><td>创建该 interval 的副本，并将其叠加到某个指定的 temporal 对象</td></tr><tr><td>get</td><td>否</td><td>读取该 interval 的状态</td></tr><tr><td>isNegative</td><td>否</td><td>检查该 interval 是否为负值，不包含零</td></tr><tr><td>isZero</td><td>否</td><td>检查该 interval 的时长是否为零</td></tr><tr><td>minus</td><td>否</td><td>通过减去一定的时间创建该 interval 的副本</td></tr><tr><td>multipliedBy</td><td>否</td><td>将 interval 的值乘以某个标量创建该 interval 的副本</td></tr><tr><td>negated</td><td>否</td><td>以忽略某个时长的方式创建该 interval 的副本</td></tr><tr><td>plus</td><td>否</td><td>以增加某个指定的时长的方式创建该 interval 的副本</td></tr><tr><td>subtractFrom</td><td>否</td><td>从指定的 temporal 对象中减去该 interval</td></tr></tbody></table><h2 id="十、新API和Date、Calendar的相互转换"><a href="#十、新API和Date、Calendar的相互转换" class="headerlink" title="十、新API和Date、Calendar的相互转换"></a>十、新API和Date、Calendar的相互转换</h2><h3 id="LocalDateTime-与-Date-的相互转化"><a href="#LocalDateTime-与-Date-的相互转化" class="headerlink" title="LocalDateTime 与 Date 的相互转化"></a>LocalDateTime 与 Date 的相互转化</h3><p>由于 LocalDate、LocalTime 或者只含有日期，或者只含有时间，因此，不能和Date直接进行转化。</p><pre><code class="java">// Date 转化成 LocalDateTimepublic static LocalDateTime dateToLocalDate(Date date) &#123;    Instant instant = date.toInstant();    ZoneId zoneId = ZoneId.systemDefault();    return instant.atZone(zoneId).toLocalDateTime();&#125;// LocalDateTime 转化成 Datepublic static Date localDateTimeToDate(LocalDateTime localDateTime) &#123;    ZoneId zoneId = ZoneId.systemDefault();    ZonedDateTime zdt = localDateTime.atZone(zoneId);    return Date.from(zdt.toInstant());&#125;</code></pre><p>基本都是先转换成Instant，然后在进行互转</p><pre><code class="java">LocalDateTime localDateTime1 = LocalDateTime.ofInstant(new Date().toInstant(), ZoneId.systemDefault());// 2021-09-17T15:51:14.842LocalDateTime localDateTime2 = LocalDateTime.ofInstant(Calendar.getInstance().toInstant(), ZoneId.systemDefault());// 2021-09-17T15:51:14.845// epochSecond - 从1970-01-01T00：00：00Z的时代开始的秒数 ； nanoOfSecond - 秒内的纳秒，从0到999,999,999；offset - 区域偏移，不为空LocalDateTime localDateTime3 = LocalDateTime.ofEpochSecond(LocalDateTime.now().toEpochSecond(ZoneOffset.of(&quot;+08:00&quot;)), 0, ZoneOffset.UTC);// 2021-09-17T07:51:16 (取UTC实际应该是这个值)LocalDateTime localDateTime4 = LocalDateTime.ofEpochSecond(LocalDateTime.now().toEpochSecond(ZoneOffset.UTC), 0, ZoneOffset.UTC);// 2021-09-17T15:51:16</code></pre><h2 id="十一、旧项目JDK8之前的版本替换方案"><a href="#十一、旧项目JDK8之前的版本替换方案" class="headerlink" title="十一、旧项目JDK8之前的版本替换方案"></a>十一、旧项目JDK8之前的版本替换方案</h2><h3 id="Threeten"><a href="#Threeten" class="headerlink" title="Threeten"></a>Threeten</h3><p>对于从Java 7或Java 6这些老项目来说可以使用Threeten ,然后可以像在上面java 8一样使用相同的功能，一旦你迁移到java 8 只需要修改你的包路径代码而无需变更：</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;org.threeten&lt;/groupId&gt;    &lt;artifactId&gt;threetenbp&lt;/artifactId&gt;    &lt;version&gt;LATEST&lt;/version&gt;&lt;/dependency&gt;</code></pre><h3 id="Joda-Time"><a href="#Joda-Time" class="headerlink" title="Joda-Time"></a>Joda-Time</h3><p>Java 8 日期和时间库的另一种替代方案是Joda-Time库。事实上，Java 8 Date Time API由Joda-Time库（Stephen Colebourne）和Oracle共同领导。该库提供了Java 8 Date Time项目中支持的几乎所有功能。通过在项目中引用以下pom依赖项就可以立即使用：</p><pre><code class="xml">&lt;dependency&gt;    &lt;groupId&gt;joda-time&lt;/groupId&gt;    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;    &lt;version&gt;LATEST&lt;/version&gt;&lt;/dependency&gt;</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;LocalDate、LocalTime、LocalDateTime的常用API和计算&quot;&gt;&lt;a href=&quot;#LocalDate、LocalTime、LocalDateTime的常用API和计算&quot; class=&quot;headerlink&quot; title=&quot;LocalDat</summary>
      
    
    
    
    <category term="编程" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="后端" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="Jdk1.8,时间类" scheme="https://xu-ux.github.io/tags/Jdk1-8-%E6%97%B6%E9%97%B4%E7%B1%BB/"/>
    
  </entry>
  
  <entry>
    <title>Maven插件之spotify的docker-maven-plugin和dockerfile-maven-plugin，docker部署</title>
    <link href="https://xu-ux.github.io/post/2021/11/17/f5a0556a47d149a3/"/>
    <id>https://xu-ux.github.io/post/2021/11/17/f5a0556a47d149a3/</id>
    <published>2021-11-17T02:38:59.000Z</published>
    <updated>2021-12-03T06:19:02.928Z</updated>
    
    <content type="html"><![CDATA[<p>docker-maven-plugin能有效帮助我们在面对数量众多的微服务项目时，自动化构建和容器化部署，提高部署效率。</p><span id="more"></span><blockquote><p><a href="https://github.com/spotify/docker-maven-plugin">docker-maven-plugin文档</a><br><a href="https://github.com/spotify/dockerfile-maven">dockerfile-maven-plugin文档</a><br>禁止转载！！！禁止转载！！！禁止转载！！！<br>首发地址：<a href="https://xu.vercel.app/post/2021/11/17/f5a0556a47d149a3/">xu.vercel.app</a></p></blockquote><h2 id="一、修改docker配置"><a href="#一、修改docker配置" class="headerlink" title="一、修改docker配置"></a>一、修改docker配置</h2><p>修改宿主机的docker配置，让其可以远程访问</p><pre><code class="shell">vi /lib/systemd/system/docker.service# 在ExecStart=后添加配置 ‐H tcp://0.0.0.0:2375 ‐H unix:///var/run/docker.sock</code></pre><p>修改后配置如下：</p><pre><code class="shell">ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock</code></pre><p>刷新配置重启服务：</p><pre><code class="shell"># 通知docker服务做出的修改systemctl daemon-reload# 重启docker服务systemctl restart docker</code></pre><p>接下来测试一下看是否能连接到docker api</p><pre><code class="shell">ps -ef | grep docker [root@localhost ~]# curl -X GET http://192.168.122.22:2375/info&#123;&quot;ID&quot;:&quot;XHRK:S4AH:7YDS:X43Y:BFCZ:XQ5N:VBIV:K6V4:SUVK:VFPM:JJYS:KZBB&quot;,&quot;Containers&quot;:7,&quot;ContainersRunning&quot;:4,&quot;ContainersPaused&quot;:0,&quot;ContainersStopped&quot;:3,&quot;Images&quot;:7,&quot;Driver&quot;:&quot;overlay2&quot;,&quot;DriverStatus&quot;:[[&quot;Backing Filesystem&quot;,&quot;xfs&quot;],[&quot;Supports d_type&quot;,&quot;true&quot;],[&quot;Native Overlay Diff&quot;,&quot;true&quot;],[&quot;userxattr&quot;,&quot;false&quot;]],&quot;Plugins&quot;:&#123;&quot;Volume&quot;:[&quot;local&quot;],&quot;Network&quot;:[&quot;bridge&quot;,&quot;host&quot;,&quot;ipvlan&quot;,&quot;macvlan&quot;,&quot;null&quot;,&quot;overlay&quot;],&quot;Authorization&quot;:null,&quot;Log&quot;:[&quot;awslogs&quot;,&quot;fluentd&quot;,&quot;gcplogs&quot;,&quot;gelf&quot;,&quot;journald&quot;,&quot;json-file&quot;,&quot;local&quot;,&quot;logentries&quot;,&quot;splunk&quot;,&quot;syslog&quot;]&#125;,&quot;MemoryLimit&quot;:true,&quot;SwapLimit&quot;:true,&quot;KernelMemory&quot;:true,&quot;KernelMemoryTCP&quot;:true,&quot;CpuCfsPeriod&quot;:true,&quot;CpuCfsQuota&quot;:true,&quot;CPUShares&quot;:true,&quot;CPUSet&quot;:true,&quot;PidsLimit&quot;:true,&quot;IPv4Forwarding&quot;:true,&quot;BridgeNfIptables&quot;:false,&quot;BridgeNfIp6tables&quot;:false,&quot;Debug&quot;:false,&quot;NFd&quot;:50,&quot;OomKillDisable&quot;:true,&quot;NGoroutines&quot;:55,&quot;SystemTime&quot;:&quot;2021-11-11T15:21:22.728142607+08:00&quot;,&quot;LoggingDriver&quot;:&quot;json-file&quot;,&quot;CgroupDriver&quot;:&quot;cgroupfs&quot;,&quot;CgroupVersion&quot;:&quot;1&quot;,&quot;NEventsListener&quot;:0,&quot;KernelVersion&quot;:&quot;3.10.0-957.el7.x86_64&quot;,&quot;OperatingSystem&quot;:&quot;CentOS Linux 7 (Core)&quot;,&quot;OSVersion&quot;:&quot;7&quot;,&quot;OSType&quot;:&quot;linux&quot;,&quot;Architecture&quot;:&quot;x86_64&quot;,&quot;IndexServerAddress&quot;:&quot;https://index.docker.io/v1/&quot;,&quot;RegistryConfig&quot;:&#123;&quot;AllowNondistributableArtifactsCIDRs&quot;:[],&quot;AllowNondistributableArtifactsHostnames&quot;:[],&quot;InsecureRegistryCIDRs&quot;:[&quot;127.0.0.0/8&quot;],&quot;IndexConfigs&quot;:&#123;&quot;docker.io&quot;:&#123;&quot;Name&quot;:&quot;docker.io&quot;,&quot;Mirrors&quot;:[&quot;https://pee6w651.mirror.aliyuncs.com/&quot;],&quot;Secure&quot;:true,&quot;Official&quot;:true&#125;&#125;,&quot;Mirrors&quot;:[&quot;https://pee6w651.mirror.aliyuncs.com/&quot;]&#125;,&quot;NCPU&quot;:2,&quot;MemTotal&quot;:2928689152,&quot;GenericResources&quot;:null,&quot;DockerRootDir&quot;:&quot;/var/lib/docker&quot;,&quot;HttpProxy&quot;:&quot;&quot;,&quot;HttpsProxy&quot;:&quot;&quot;,&quot;NoProxy&quot;:&quot;&quot;,&quot;Name&quot;:&quot;localhost.localdomain&quot;,&quot;Labels&quot;:[],&quot;ExperimentalBuild&quot;:false,&quot;ServerVersion&quot;:&quot;20.10.7&quot;,&quot;Runtimes&quot;:&#123;&quot;io.containerd.runc.v2&quot;:&#123;&quot;path&quot;:&quot;runc&quot;&#125;,&quot;io.containerd.runtime.v1.linux&quot;:&#123;&quot;path&quot;:&quot;runc&quot;&#125;,&quot;runc&quot;:&#123;&quot;path&quot;:&quot;runc&quot;&#125;&#125;,&quot;DefaultRuntime&quot;:&quot;runc&quot;,&quot;Swarm&quot;:&#123;&quot;NodeID&quot;:&quot;&quot;,&quot;NodeAddr&quot;:&quot;&quot;,&quot;LocalNodeState&quot;:&quot;inactive&quot;,&quot;ControlAvailable&quot;:false,&quot;Error&quot;:&quot;&quot;,&quot;RemoteManagers&quot;:null&#125;,&quot;LiveRestoreEnabled&quot;:false,&quot;Isolation&quot;:&quot;&quot;,&quot;InitBinary&quot;:&quot;docker-init&quot;,&quot;ContainerdCommit&quot;:&#123;&quot;ID&quot;:&quot;d71fcd7d8303cbf684402823e425e9dd2e99285d&quot;,&quot;Expected&quot;:&quot;d71fcd7d8303cbf684402823e425e9dd2e99285d&quot;&#125;,&quot;RuncCommit&quot;:&#123;&quot;ID&quot;:&quot;b9ee9c6314599f1b4a7f497e1f1f856fe433d3b7&quot;,&quot;Expected&quot;:&quot;b9ee9c6314599f1b4a7f497e1f1f856fe433d3b7&quot;&#125;,&quot;InitCommit&quot;:&#123;&quot;ID&quot;:&quot;de40ad0&quot;,&quot;Expected&quot;:&quot;de40ad0&quot;&#125;,&quot;SecurityOptions&quot;:[&quot;name=seccomp,profile=default&quot;],&quot;Warnings&quot;:[&quot;WARNING: API is accessible on http://0.0.0.0:2375 without encryption.\n         Access to the remote API is equivalent to root access on the host. Refer\n         to the &#39;Docker daemon attack surface&#39; section in the documentation for\n         more information: https://docs.docker.com/go/attack-surface/&quot;,&quot;WARNING: bridge-nf-call-iptables is disabled&quot;,&quot;WARNING: bridge-nf-call-ip6tables is disabled&quot;]&#125;</code></pre><h4 id="1-2-启动失败的问题"><a href="#1-2-启动失败的问题" class="headerlink" title="1.2 启动失败的问题"></a>1.2 启动失败的问题</h4><p>启动报错<code>Job for docker.service failed because the control process exited with error code. See &quot;systemctl status docker.service&quot; and &quot;journalctl -xe&quot; for details.</code></p><pre><code class="shell">[root@localhost ~]# systemctl start dockerJob for docker.service failed because the control process exited with error code. See &quot;systemctl status docker.service&quot; and &quot;journalctl -xe&quot; for details.[root@localhost ~]# systemctl start docker.serviceJob for docker.service failed because the control process exited with error code. See &quot;systemctl status docker.service&quot; and &quot;journalctl -xe&quot; for details.[root@localhost ~]# systemctl status docker.service● docker.service - Docker Application Container Engine   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled)   Active: failed (Result: start-limit) since 四 2021-11-11 14:54:01 CST; 1min 14s ago     Docs: https://docs.docker.com  Process: 23534 ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock ‐H tcp://0.0.0.0:2375 ‐H unix:///var/run/docker.sock (code=exited, status=1/FAILURE) Main PID: 23534 (code=exited, status=1/FAILURE)11月 11 14:54:01 localhost.localdomain systemd[1]: start request repeated too quickly for docker.service11月 11 14:54:01 localhost.localdomain systemd[1]: Failed to start Docker Application Container Engine.11月 11 14:54:01 localhost.localdomain systemd[1]: Unit docker.service entered failed state.11月 11 14:54:01 localhost.localdomain systemd[1]: docker.service failed.11月 11 14:54:13 localhost.localdomain systemd[1]: start request repeated too quickly for docker.service11月 11 14:54:13 localhost.localdomain systemd[1]: Failed to start Docker Application Container Engine.11月 11 14:54:13 localhost.localdomain systemd[1]: docker.service failed.11月 11 14:54:18 localhost.localdomain systemd[1]: start request repeated too quickly for docker.service11月 11 14:54:18 localhost.localdomain systemd[1]: Failed to start Docker Application Container Engine.11月 11 14:54:18 localhost.localdomain systemd[1]: docker.service failed.[root@localhost ~]# netstat -ano | grep 2375tcp6       0      0 :::2375                 :::*                    LISTEN      off (0.00/0/0)</code></pre><h4 id="1-3-解决启动失败"><a href="#1-3-解决启动失败" class="headerlink" title="1.3 解决启动失败"></a>1.3 解决启动失败</h4><p>因为修改的是<code>/usr/lib/systemd/system/docker.service</code>下的服务配置文件：<br><code>ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock</code></p><p>那么就应该加载该目录下的system服务<code>systemctl start docker.service</code></p><pre><code class="shell">[root@localhost ~]# systemctl daemon-reload[root@localhost ~]# systemctl stop docker.serviceWarning: Stopping docker.service, but it can still be activated by:  docker.socket[root@localhost ~]# ps -ef | grep docker root      47375  18279  0 15:13 pts/0    00:00:00 grep --color=auto docker[root@localhost ~]# systemctl start docker.service[root@localhost ~]# systemctl status docker.service● docker.service - Docker Application Container Engine   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled)   Active: active (running) since 四 2021-11-11 15:13:43 CST; 37s ago     Docs: https://docs.docker.com Main PID: 47559 (dockerd)   CGroup: /system.slice/docker.service           ├─47559 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock           ├─47751 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 6379 -container-ip 172.17.0.2 -container-port 6379           ├─47756 /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 6379 -container-ip 172.17.0.2 -container-port 6379           ├─47783 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 3306 -container-ip 172.17.0.3 -container-port 3306           ├─47788 /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 3306 -container-ip 172.17.0.3 -container-port 3306           ├─47822 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 9000 -container-ip 172.17.0.4 -container-port 9000           ├─47836 /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 9000 -container-ip 172.17.0.4 -container-port 9000           ├─47884 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 30443 -container-ip 172.17.0.5 -container-port 443           ├─47893 /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 30443 -container-ip 172.17.0.5 -container-port 443           ├─47924 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 30080 -container-ip 172.17.0.5 -container-port 80           └─47939 /usr/bin/docker-proxy -proto tcp -host-ip :: -host-port 30080 -container-ip 172.17.0.5 -container-port 8011月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.097948827+08:00&quot; level=info msg=&quot;ClientConn switching balancer to \&quot;pick_...ule=grpc11月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.103540123+08:00&quot; level=info msg=&quot;[graphdriver] using prior storage driver: overlay2&quot;11月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.109459318+08:00&quot; level=info msg=&quot;Loading containers: start.&quot;11月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.226585154+08:00&quot; level=info msg=&quot;Default bridge (docker0) is assigned wit...address&quot;11月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.944106192+08:00&quot; level=info msg=&quot;Loading containers: done.&quot;11月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.973773238+08:00&quot; level=info msg=&quot;Docker daemon&quot; commit=b0f5bc3 graphdrive...=20.10.711月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.973916900+08:00&quot; level=info msg=&quot;Daemon has completed initialization&quot;11月 11 15:13:43 localhost.localdomain dockerd[47559]: time=&quot;2021-11-11T15:13:43.999505683+08:00&quot; level=info msg=&quot;API listen on /var/run/docker.sock&quot;11月 11 15:13:43 localhost.localdomain systemd[1]: Started Docker Application Container Engine.11月 11 15:14:12 localhost.localdomain systemd[1]: Current command vanished from the unit file, execution of the command list won&#39;t be resumed.Hint: Some lines were ellipsized, use -l to show in full.</code></pre><h2 id="二、修改防火墙"><a href="#二、修改防火墙" class="headerlink" title="二、修改防火墙"></a>二、修改防火墙</h2><p><a href="https://blog.csdn.net/qq_35341203/article/details/121267088">其他centos7防火墙配置</a><br>我这里是虚拟机，防火墙服务关闭了，所以无需配置下面的信息，生产环境自行配置</p><pre><code class="shell">[root@localhost ~]# systemctl status firewalld● firewalld.service - firewalld - dynamic firewall daemon   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; disabled; vendor preset: enabled)   Active: inactive (dead)     Docs: man:firewalld(1)</code></pre><p>修改防火墙策略，允许访问2375端口：</p><pre><code class="shell">#开放2375/tcp端口firewall-cmd --zone=public --add-port=2375/tcp --permanent#更新防火墙的设置，使上面的修改生效firewall-cmd --reload </code></pre><p>查看防火墙开放状态：</p><pre><code class="shell">#查看所有打开的端口firewall-cmd --zone=public --list-ports</code></pre><h2 id="三、使用插件"><a href="#三、使用插件" class="headerlink" title="三、使用插件"></a>三、使用插件</h2><h3 id="3-1-docker-maven-plugin插件"><a href="#3-1-docker-maven-plugin插件" class="headerlink" title="3.1 docker-maven-plugin插件"></a>3.1 docker-maven-plugin插件</h3><blockquote><p><a href="https://github.com/spotify/docker-maven-plugin">官方Github</a></p></blockquote><h4 id="1-不使用Dockerfile"><a href="#1-不使用Dockerfile" class="headerlink" title="(1)不使用Dockerfile"></a>(1)不使用Dockerfile</h4><pre><code class="xml">            &lt;plugin&gt;                &lt;groupId&gt;com.spotify&lt;/groupId&gt;                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;                &lt;version&gt;1.2.2&lt;/version&gt;                &lt;configuration&gt;                    &lt;imageName&gt;$&#123;project.artifactId&#125;:$&#123;project.version&#125;&lt;/imageName&gt;                    &lt;baseImage&gt;jdk1.8&lt;/baseImage&gt;                    &lt;baseImage&gt;xuux/small-jre8:1.0&lt;/baseImage&gt;                    &lt;entryPoint&gt;[&quot;java&quot;, &quot;-jar&quot;, &quot;/$&#123;project.build.finalName&#125;.jar&quot;]&lt;/entryPoint&gt;                    &lt;resources&gt;                        &lt;resource&gt;                            &lt;targetPath&gt;/&lt;/targetPath&gt;                            &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt;                            &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt;                        &lt;/resource&gt;                    &lt;/resources&gt;                    &lt;dockerHost&gt;http://192.168.122.22:2375&lt;/dockerHost&gt;                &lt;/configuration&gt;            &lt;/plugin&gt;</code></pre><p>执行 build 操作<br><code>mvn clean package docker:build </code></p><p>执行 build 完成后 push 镜像：<br><code>mvn clean package docker:build -DpushImage</code></p><p>执行 build 并 push 指定 tag 的镜像<br><code>mvn clean package docker:build -DpushImageTag</code></p><blockquote><p>注意：这里必须指定至少一个 imageTag，它可以配置到 POM 中，也可以在命令行指定。</p></blockquote><p>指定方式有两种：</p><ol><li><p>命令行指定如下：<code>mvn clean package docker:build -DpushImageTags -DdockerImageTags=imageTag_1 -DdockerImageTags=imageTag_2</code></p></li><li><p>POM 文件中指定：</p></li></ol><pre><code class="xml">&lt;build&gt;  &lt;plugins&gt;        &lt;plugin&gt;        &lt;groupId&gt;com.spotify&lt;/groupId&gt;        &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;        &lt;version&gt;1.2.2&lt;/version&gt;        &lt;configuration&gt;            &lt;imageName&gt;$&#123;project.artifactId&#125;:$&#123;project.version&#125;&lt;/imageName&gt;            &lt;baseImage&gt;xuux/small-jre8:1.0&lt;/baseImage&gt;            &lt;entryPoint&gt;[&quot;java&quot;, &quot;-jar&quot;, &quot;/$&#123;project.build.finalName&#125;.jar&quot;]&lt;/entryPoint&gt;            &lt;resources&gt;                &lt;resource&gt;                    &lt;targetPath&gt;/&lt;/targetPath&gt;                    &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt;                    &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt;                &lt;/resource&gt;            &lt;/resources&gt;            &lt;dockerHost&gt;http://192.168.122.22:2375&lt;/dockerHost&gt;            &lt;!--指定tag--&gt;            &lt;imageTags&gt;                &lt;imageTag&gt;imageTag_1&lt;/imageTag&gt;                &lt;imageTag&gt;imageTag_2&lt;/imageTag&gt;            &lt;/imageTags&gt;        &lt;/configuration&gt;    &lt;/plugin&gt;  &lt;/plugins&gt;&lt;/build&gt;</code></pre><h4 id="2-使用Dockerfile"><a href="#2-使用Dockerfile" class="headerlink" title="(2)使用Dockerfile"></a>(2)使用Dockerfile</h4><pre><code class="xml">&lt;plugin&gt;    &lt;groupId&gt;com.spotify&lt;/groupId&gt;    &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;    &lt;version&gt;1.2.2&lt;/version&gt;    &lt;configuration&gt;        &lt;imageName&gt;$&#123;project.artifactId&#125;:$&#123;project.version&#125;&lt;/imageName&gt;        &lt;!-- 指定 Dockerfile 路径--&gt;        &lt;dockerDirectory&gt;$&#123;basedir&#125;/docker&lt;/dockerDirectory&gt;        &lt;!-- 这里是复制 jar 包到 docker 容器指定目录配置，也可以写到 Docokerfile 中 --&gt;        &lt;resources&gt;            &lt;resource&gt;                &lt;targetPath&gt;/&lt;/targetPath&gt;                &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt;                &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt;            &lt;/resource&gt;        &lt;/resources&gt;        &lt;dockerHost&gt;http://192.168.122.22:2375&lt;/dockerHost&gt;        &lt;!--指定tag--&gt;        &lt;imageTags&gt;            &lt;imageTag&gt;1.0.1&lt;/imageTag&gt;        &lt;/imageTags&gt;    &lt;/configuration&gt;&lt;/plugin&gt;</code></pre><p>Dockerfile文件：</p><pre><code class="shell">FROM xuux/small-jre8:1.0MAINTAINER xu_ux test@email.comWORKDIR /optCMD [&quot;java&quot;, &quot;-version&quot;]ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;$&#123;project.build.finalName&#125;.jar&quot;]</code></pre><p>执行命令：<br><code>mvn clean package docker:build -DpushImageTag</code></p><pre><code class="shell">[INFO] Building image demo:0.0.1-SNAPSHOTStep 1/5 : FROM xuux/small-jre8:1.0 ---&gt; 4fa1f55350fbStep 2/5 : MAINTAINER xu_ux test@email.com ---&gt; Running in c8b2e5b012c4Removing intermediate container c8b2e5b012c4 ---&gt; 14353903927cStep 3/5 : WORKDIR /opt ---&gt; Running in d8dfcf2f63a6Removing intermediate container d8dfcf2f63a6 ---&gt; 6e980ad6882aStep 4/5 : CMD [&quot;java&quot;, &quot;-version&quot;] ---&gt; Running in 9bae114258a6Removing intermediate container 9bae114258a6 ---&gt; 212ff76fe2a2Step 5/5 : ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;$&#123;project.build.finalName&#125;.jar&quot;] ---&gt; Running in 2f59b4c7ac0aRemoving intermediate container 2f59b4c7ac0a ---&gt; 07c262894893ProgressMessage&#123;id=null, status=null, stream=null, error=null, progress=null, progressDetail=null&#125;Successfully built 07c262894893Successfully tagged demo:0.0.1-SNAPSHOT</code></pre><pre><code class="shell">[root@localhost jre1.8.0_311]# docker imagesREPOSITORY                     TAG              IMAGE ID       CREATED              SIZEdemo                           0.0.1-SNAPSHOT   07c262894893   About a minute ago   224MBdemo                           1.0.1            07c262894893   About a minute ago   224MB</code></pre><h4 id="3-绑定-Docker-命令到-Maven各个阶段"><a href="#3-绑定-Docker-命令到-Maven各个阶段" class="headerlink" title="(3)绑定 Docker 命令到 Maven各个阶段"></a>(3)绑定 Docker 命令到 Maven各个阶段</h4><p>github上已经很详细了，大家可以上去看看官方文档</p><pre><code class="xml">&lt;build&gt;    &lt;plugins&gt;        &lt;plugin&gt;            &lt;groupId&gt;com.spotify&lt;/groupId&gt;            &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;            &lt;version&gt;1.2.2&lt;/version&gt;            &lt;configuration&gt;               ......            &lt;/configuration&gt;            &lt;executions&gt;                &lt;execution&gt;                    &lt;id&gt;build-image&lt;/id&gt;                    &lt;phase&gt;package&lt;/phase&gt;                    &lt;goals&gt;                        &lt;goal&gt;build&lt;/goal&gt;                    &lt;/goals&gt;                &lt;/execution&gt;                &lt;execution&gt;                    &lt;id&gt;tag-image&lt;/id&gt;                    &lt;phase&gt;package&lt;/phase&gt;                    &lt;goals&gt;                        &lt;goal&gt;tag&lt;/goal&gt;                    &lt;/goals&gt;                    &lt;configuration&gt;                        &lt;image&gt;$&#123;project.artifactId&#125;:latest&lt;/image&gt;                        &lt;newName&gt;$&#123;project.artifactId&#125;:$&#123;project.version&#125;&lt;/newName&gt;                    &lt;/configuration&gt;                &lt;/execution&gt;                &lt;execution&gt;                    &lt;id&gt;push-image&lt;/id&gt;                    &lt;phase&gt;deploy&lt;/phase&gt;                    &lt;goals&gt;                        &lt;goal&gt;push&lt;/goal&gt;                    &lt;/goals&gt;                    &lt;configuration&gt;                        &lt;imageName&gt;$&#123;project.artifactId&#125;:$&#123;project.version&#125;&lt;/imageName&gt;                    &lt;/configuration&gt;                &lt;/execution&gt;            &lt;/executions&gt;        &lt;/plugin&gt;    &lt;/plugins&gt;&lt;/build&gt;</code></pre><p>执行mvn package时，执行 build、tag 操作<br>执行mvn deploy时，执行build、tag、push 操作<br>如果我们想跳过 docker 某个过程时，只需要：</p><pre><code class="shell">-DskipDockerBuild 跳过 build 镜像-DskipDockerTag 跳过 tag 镜像-DskipDockerPush 跳过 push 镜像-DskipDocker 跳过整个阶段</code></pre><p>例如：我们想执行 package 时，跳过 tag 过程，那么就需要mvn package -DskipDockerTag</p><h3 id="3-2-dockerfile-maven-plugin插件"><a href="#3-2-dockerfile-maven-plugin插件" class="headerlink" title="3.2 dockerfile-maven-plugin插件"></a>3.2 dockerfile-maven-plugin插件</h3><blockquote><p>官方推荐使用<a href="https://github.com/spotify/dockerfile-maven">dockerfile-maven-plugin</a><br>docker-maven-plugin：We recommend you use dockerfile-maven instead.<br>注意：需要结合Dockerfile文件，设置环境变量</p></blockquote><h4 id="1-设置环境变量-必须"><a href="#1-设置环境变量-必须" class="headerlink" title="1.设置环境变量(必须)"></a>1.设置环境变量(必须)</h4><p>环境变量名称：DOCKER_HOST<br>变量值：tcp://192.168.122.22:2375（根据实际IP地址来）</p><pre><code class="shell">export DOCKER_HOST=tcp://localhost:2375</code></pre><p><a data-fancybox="images" data-caption="" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/11/202111171009775.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/11/202111171009775.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/11/202111171009775.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a></p><h4 id="2-xml配置"><a href="#2-xml配置" class="headerlink" title="2. xml配置"></a>2. xml配置</h4><pre><code class="xml">    &lt;plugin&gt;        &lt;groupId&gt;com.spotify&lt;/groupId&gt;        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;        &lt;version&gt;1.4.13&lt;/version&gt;        &lt;configuration&gt;            &lt;repository&gt;$&#123;project.artifactId&#125;&lt;/repository&gt;            &lt;tag&gt;$&#123;project.version&#125;&lt;/tag&gt;            &lt;buildArgs&gt;                &lt;JAR_FILE&gt;target/$&#123;project.build.finalName&#125;.jar&lt;/JAR_FILE&gt;            &lt;/buildArgs&gt;        &lt;/configuration&gt;    &lt;/plugin&gt;</code></pre><p>或者</p><pre><code class="xml">&lt;plugin&gt;  &lt;groupId&gt;com.spotify&lt;/groupId&gt;  &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;  &lt;version&gt;1.4.13&lt;/version&gt;  &lt;executions&gt;    &lt;execution&gt;      &lt;id&gt;default&lt;/id&gt;      &lt;goals&gt;        &lt;goal&gt;build&lt;/goal&gt;        &lt;goal&gt;push&lt;/goal&gt;      &lt;/goals&gt;    &lt;/execution&gt;  &lt;/executions&gt;  &lt;configuration&gt;     &lt;repository&gt;$&#123;project.artifactId&#125;&lt;/repository&gt;    &lt;tag&gt;$&#123;project.version&#125;&lt;/tag&gt;    &lt;buildArgs&gt;      &lt;JAR_FILE&gt;$&#123;project.build.finalName&#125;.jar&lt;/JAR_FILE&gt;    &lt;/buildArgs&gt;  &lt;/configuration&gt;&lt;/plugin&gt;</code></pre><p>该插件的配置比docker-maven-plugin更简单</p><ul><li>repository：指定docker镜像的repo名字</li><li>tag：指定docker镜像的tag</li><li>buildArgs：可以指定一个或多个变量，传递给Dockerfile，在Dockerfile中通过ARG指令进行引用</li></ul><p>在execution中同时指定build和push目标：<br>当运行mvn package时，会自动执行build目标，构建Docker镜像。当运行mvn deploy命令时，会自动执行push目标，将Docker镜像push到Docker仓库。</p><h4 id="3-创建Dockerfile文件"><a href="#3-创建Dockerfile文件" class="headerlink" title="3. 创建Dockerfile文件"></a>3. 创建Dockerfile文件</h4><p>Dockerfile文件必须在根目录下，与pom.xml文件同级</p><pre><code class="shell">FROM xuux/small-jre8:1.0MAINTAINER xu_ux test@email.comWORKDIR /optCMD [&quot;java&quot;, &quot;-version&quot;]ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;$&#123;project.build.finalName&#125;.jar&quot;]</code></pre><h4 id="4-其他使用方法："><a href="#4-其他使用方法：" class="headerlink" title="4. 其他使用方法："></a>4. 其他使用方法：</h4><p><a href="https://github.com/spotify/dockerfile-maven/blob/master/docs/usage.md">https://github.com/spotify/dockerfile-maven/blob/master/docs/usage.md</a></p><h2 id="四、问题"><a href="#四、问题" class="headerlink" title="四、问题"></a>四、问题</h2><pre><code class="xml">&lt;baseImage&gt;jdk1.8&lt;/baseImage&gt;</code></pre><pre><code>pull access denied for jdk1.8, repository does not exist or may require &#39;docker login&#39;: denied: requested access to the resource is denied</code></pre><p>原因：<br>报这个错是因为docker上没有jdk1.8镜像文件。</p><p>解决方法：<br>换成<a href="https://hub.docker.com/r/xuux/small-jre8">xuux/small-jre8</a></p><pre><code>&lt;baseImage&gt;xuux/small-jre8&lt;/baseImage&gt;docker pull xuux/small-jre8</code></pre><h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><p><a href="https://blog.csdn.net/aixiaoyang168/article/details/77453974">Maven 插件之 docker-maven-plugin 的使用</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;docker-maven-plugin能有效帮助我们在面对数量众多的微服务项目时，自动化构建和容器化部署，提高部署效率。&lt;/p&gt;</summary>
    
    
    
    <category term="编程" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="后端" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="SpringBoot" scheme="https://xu-ux.github.io/tags/SpringBoot/"/>
    
    <category term="Maven" scheme="https://xu-ux.github.io/tags/Maven/"/>
    
    <category term="Docker" scheme="https://xu-ux.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot集成企业微信群机器人（运维报警）</title>
    <link href="https://xu-ux.github.io/post/2021/11/09/81320b01bb9f163c/"/>
    <id>https://xu-ux.github.io/post/2021/11/09/81320b01bb9f163c/</id>
    <published>2021-11-09T01:40:40.000Z</published>
    <updated>2021-12-03T06:19:02.932Z</updated>
    
    <content type="html"><![CDATA[<p>之前有集成过钉钉群机器人🤖报警，这次主要是SpringBoot集成企业微信群机器人报警。</p><span id="more"></span><blockquote><p><strong>声明：</strong><br>1.本篇文章不涉及任何业务数据<br>2.禁止转载！！！禁止转载！！！禁止转载！！！<br><strong>相关文档：</strong><br><a href="https://work.weixin.qq.com/api/doc/90000/90136/91770">企业微信群机器人配置说明</a></p></blockquote><h2 id="1-配置"><a href="#1-配置" class="headerlink" title="1. 配置"></a>1. 配置</h2><pre><code class="java">import lombok.Getter;import lombok.Setter;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;import java.util.List;/** * @descriptions: 配置参数 * @author: xucl */@Component@Getter@Setter@ConfigurationProperties(prefix = &quot;notice&quot;)public class NoticeProperties &#123;    private String wechatKey;    private List&lt;String&gt; phoneList;&#125;</code></pre><p>这个key的获取方式：<a href="https://work.weixin.qq.com/api/doc/90000/90136/91770">群机器人配置说明</a></p><p>yaml文件配置数据：</p><pre><code class="yaml">notice:  ####### 企业微信群机器人key  wechat-key: xxxxxxxxx-xxx-xxx-xxxx-xxxxxxxxxx  ####### 需要@的群成员手机号  phone-list:</code></pre><h3 id="1-2-Http客户端配置"><a href="#1-2-Http客户端配置" class="headerlink" title="1.2 Http客户端配置"></a>1.2 Http客户端配置</h3><p>这里用的Forest ，感觉还挺强大灵活 <a href="http://forest.dtflyx.com/docs/">官方文档</a>，如果你喜欢使用httpClient或者okHttp建议你看看forest ；如果你更喜欢RestTemplate，那就使用RestTemplate。</p><h4 id="POM依赖"><a href="#POM依赖" class="headerlink" title="POM依赖"></a>POM依赖</h4><pre><code class="xml">&lt;!-- 轻量级HTTP客户端框架 --&gt;        &lt;dependency&gt;            &lt;groupId&gt;com.dtflys.forest&lt;/groupId&gt;            &lt;artifactId&gt;forest-spring-boot-starter&lt;/artifactId&gt;            &lt;version&gt;1.5.3&lt;/version&gt;        &lt;/dependency&gt;</code></pre><h4 id="yaml文件配置"><a href="#yaml文件配置" class="headerlink" title="yaml文件配置"></a>yaml文件配置</h4><p>日志打开关闭请参考自己的业务需要</p><pre><code class="yaml">## 轻量级HTTP客户端框架forestforest:  # 配置底层API为 okhttp3  backend: okhttp3  # 连接池最大连接数，默认值为500  max-connections: 1000  # 每个路由的最大连接数，默认值为500  max-route-connections: 500  # 请求超时时间，单位为毫秒, 默认值为3000  timeout: 3000   # 连接超时时间，单位为毫秒, 默认值为2000  connect-timeout: 3000   # 请求失败后重试次数，默认为0次不重试  retry-count: 1   # 单向验证的HTTPS的默认SSL协议，默认为SSLv3  ssl-protocol: SSLv3   # 打开或关闭日志，默认为true  logEnabled: true   # 打开/关闭Forest请求日志（默认为 true）  log-request: true   # 打开/关闭Forest响应状态日志（默认为 true）  log-response-status: true   # 打开/关闭Forest响应内容日志（默认为 false）  log-response-content: true</code></pre><h4 id="发送Http"><a href="#发送Http" class="headerlink" title="发送Http"></a>发送Http</h4><p><strong>使用前请注意</strong></p><blockquote><p>在 Spring Boot 项目中调用接口#<br>只要在Spring Boot的配置类或者启动类上加上@ForestScan注解，并在basePackages属性里填上远程&gt;接口的所在的包名，加入<code>@ForestScan</code><br><strong>src/main/java/MyApp.java</strong></p></blockquote><pre><code class="java">@SpringBootApplication@Configuration@ForestScan(basePackages = &quot;com.yoursite.client&quot;)public class MyApp &#123;     ...&#125;</code></pre><blockquote><p>Forest 会扫描@ForestScan注解中basePackages属性指定的包下面所有的接口，然后会将符合条件的接口进行动态代理并注入到 Spring 的上下文中。</p><p>友情提示:<br>1.5.1以后版本可以跳过此步，不需要 @ForestScan 注解来指定扫描的包范围</p></blockquote><p><strong>发送请求的客户端</strong></p><pre><code class="java">public interface NoticeClient &#123;    /**     * 企业微信机器人 发送 https 请求     *     * @param keyValue     * @return     */    @Post(            url = &quot;https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=&#123;keyValue&#125;&quot;,            headers = &#123;                    &quot;Accept-Charset: utf-8&quot;,                    &quot;Content-Type: application/json&quot;            &#125;,            dataType = &quot;json&quot;    )    ForestResponse&lt;JsonObject&gt; weChatNotice(@Var(&quot;keyValue&quot;) String keyValue, @JSONBody Map&lt;String, Object&gt; body );&#125;</code></pre><h2 id="2-定义服务"><a href="#2-定义服务" class="headerlink" title="2.定义服务"></a>2.定义服务</h2><h3 id="2-1-接口"><a href="#2-1-接口" class="headerlink" title="2.1 接口"></a>2.1 接口</h3><pre><code class="java">/** * @descriptions: 消息通知接口 * @author: xucl */public interface NoticeService &#123;    /**     * 发送错误信息至群机器人     * @param throwable     * @param msg     */    void sendError(Throwable throwable,String msg);    /**     * 发送文本信息至群机器人     * @param msg     */    void sendByMd(String msg);    /**     * 发送md至群机器人     * @param msg 文本消息     * @param isAtALL  是否@所有人 true是 false否     */    void sendByText(String msg,boolean isAtALL);&#125;</code></pre><h3 id="2-2-工具实现"><a href="#2-2-工具实现" class="headerlink" title="2.2 工具实现"></a>2.2 工具实现</h3><p>注意：这里的包名（com.github）填自己项目内的包名</p><pre><code class="java">import com.dtflys.forest.http.ForestResponse;import com.google.gson.JsonObject;import lombok.extern.slf4j.Slf4j;import org.apache.commons.collections4.CollectionUtils;import org.apache.commons.lang3.StringUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.stereotype.Service;import java.io.ByteArrayOutputStream;import java.io.PrintStream;import java.time.LocalDateTime;import java.time.format.DateTimeFormatter;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;import java.util.regex.Matcher;import java.util.regex.Pattern;import java.util.stream.Collectors;/** * @descriptions: 通知实现 * @author: xucl */@Service@Slf4jpublic class NoticeServiceImpl implements NoticeService &#123;    @Value(&quot;$&#123;spring.application.name&#125;&quot;)    private String appName;    @Value(&quot;$&#123;spring.profiles.active&#125;&quot;)    private String env;    @Autowired    private NoticeClient noticeClient;    @Autowired    private NoticeProperties noticeProperties;    /**     * 发送错误信息至群机器人     *     * @param throwable     * @param msg     */    @Override    public void sendError(Throwable throwable, String msg) &#123;        String errorClassName = throwable.getClass().getSimpleName();        if (StringUtils.isBlank(msg))&#123;            msg = throwable.getMessage() == null ? &quot;出现null值&quot; : throwable.getMessage();        &#125;        ByteArrayOutputStream baos = new ByteArrayOutputStream();        throwable.printStackTrace(new PrintStream(baos));        String bodyStr = StringComUtils.limitStrNone(regexThrowableStr(baos.toString()),450);        String md = getMdByTemplate(appName, env, errorClassName, msg, bodyStr);        sendByMd(md);    &#125;    /**     * 发送文本信息至群机器人     *     * @param msg     */    @Override    public void sendByMd(String msg) &#123;        try &#123;            Map&lt;String, Object&gt; params = buildMdParams(msg);            ForestResponse&lt;JsonObject&gt; response = noticeClient.weChatNotice(noticeProperties.getWechatKey(), params);            log.debug(&quot;WeChatRobo-Send Error:&#123;&#125; Status:&#123;&#125;&quot;,response.isError(),response.getStatusCode());        &#125; catch (Exception e) &#123;            log.error(&quot;WeChatRobot-发送文本消息异常 body:&#123;&#125;&quot;,msg,e);        &#125;    &#125;    /**     * 发送md至群机器人     *     * @param msg     */    @Override    public void sendByText(String msg,boolean isAtALL) &#123;        try &#123;            Map&lt;String, Object&gt; params = buildTextParams(msg,noticeProperties.getPhoneList(),isAtALL);            ForestResponse&lt;JsonObject&gt; response = noticeClient.weChatNotice(noticeProperties.getWechatKey(), params);            log.debug(&quot;WeChatRobo-Send Error:&#123;&#125; Status:&#123;&#125;&quot;,response.isError(),response.getStatusCode());        &#125; catch (Exception e) &#123;            log.error(&quot;WeChatRobot-发送文本消息异常 body:&#123;&#125;&quot;,msg,e);        &#125;    &#125;    /**     * 构建发送文本消息格式的参数     * @param phoneList @群用户     * @param isAtALL  是否@所有人     * @return     */    private Map&lt;String,Object&gt; buildTextParams(String text, List&lt;String&gt; phoneList, boolean isAtALL)&#123;        Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();        Map&lt;String,Object&gt; data = new HashMap&lt;&gt;();        data.put(&quot;content&quot;,text);        if (isAtALL)&#123;            phoneList.add(&quot;@all&quot;);        &#125;        if (CollectionUtils.isNotEmpty(phoneList))&#123;            data.put(&quot;mentioned_mobile_list&quot;, phoneList);        &#125;        params.put(&quot;msgtype&quot;,&quot;text&quot;);        params.put(&quot;text&quot;,data);        return params;    &#125;    /**     * 构建发送markdown消息格式的参数     *     * @param md     * @return     */    private Map&lt;String,Object&gt; buildMdParams(String md)&#123;        Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();        Map&lt;String,Object&gt; data = new HashMap&lt;&gt;();        data.put(&quot;content&quot;,md);        params.put(&quot;msgtype&quot;,&quot;markdown&quot;);        params.put(&quot;markdown&quot;,data);        return params;    &#125;    private String regexThrowableStr(String str)&#123;        try &#123;             // 注意：这里的包名（com.github）填自己项目内的包名            String pattern = &quot;(com)(\\.)(github)(.&#123;10,200&#125;)(\\))&quot;;            Pattern r = Pattern.compile(pattern);            Matcher m=r.matcher(str);            List&lt;String&gt; list = new ArrayList&lt;&gt;();            while (m.find()) &#123;                list.add(m.group());            &#125;            if (CollectionUtils.isEmpty(list))&#123;                return str;            &#125;            String s = list.stream().collect(Collectors.joining(&quot;\n&quot;));            return s;        &#125; catch (Exception e) &#123;            return str;        &#125;    &#125;    private String getMdByTemplate(String appName,String env,String errorClassName,String msg,String bodyStr)&#123;        String titleTpl = &quot;### 异常告警通知\n#### 应用：%s\n#### 环境：&lt;font color=\&quot;info\&quot;&gt;%s&lt;/font&gt;\n##### 异常：&lt;font color=\&quot;warning\&quot;&gt;%s&lt;/font&gt;\n&quot;;        String bodyTpl = &quot;\nMsg：%s\nDetail：\n&gt;%s&quot;;        String footerTpl = &quot;\n&lt;font color=\&quot;comment\&quot;&gt;%s&lt;/font&gt;&quot;;        String title = String.format(titleTpl, appName, env, errorClassName);        String body = String.format(bodyTpl, msg,bodyStr);        String dateStr = LocalDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;));        String footer = String.format(footerTpl, dateStr);        return title.concat(body).concat(footer);    &#125;&#125;</code></pre><p>使用到的工具方法：</p><pre><code class="java">    /**     * 限制文本描述     *     * @param content 内容或问题     * @param charNumber 长度     * @return     */    public static String limitStrNone(String content ,int charNumber)&#123;        if (StringUtils.isNotBlank(content))&#123;            if (content.length() &gt; charNumber)&#123;                String substring = content.substring(0, charNumber);                return substring;            &#125;else &#123;                return content;            &#125;        &#125;        return &quot;&quot;;    &#125;</code></pre><p>最终效果：</p><p><a data-fancybox="images" data-caption="" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/11/202111090944166.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/11/202111090944166.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/11/202111090944166.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;之前有集成过钉钉群机器人🤖报警，这次主要是SpringBoot集成企业微信群机器人报警。&lt;/p&gt;</summary>
    
    
    
    <category term="编程" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="后端" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="SpringBoot" scheme="https://xu-ux.github.io/tags/SpringBoot/"/>
    
    <category term="企业微信" scheme="https://xu-ux.github.io/tags/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1/"/>
    
    <category term="运维" scheme="https://xu-ux.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot集成Nacos2.0.3</title>
    <link href="https://xu-ux.github.io/post/2021/10/20/ebe0fd672cfa55b6/"/>
    <id>https://xu-ux.github.io/post/2021/10/20/ebe0fd672cfa55b6/</id>
    <published>2021-10-20T01:10:50.000Z</published>
    <updated>2021-12-03T06:19:02.928Z</updated>
    
    <content type="html"><![CDATA[<p>本篇记录了关于Nacos-server2.0.3的搭建过程（VMware和CentOS7），以及SpringBoot整合Nacos，已搭建的可以跳过第一节看第三节的整合过程。</p><p>记录和分享也是一种学习的方式，希望大家多多探讨相关技术问题。</p><blockquote><p>本文首发地址：<a href="https://xu.vercel.app/post/2021/10/20/ebe0fd672cfa55b6/">https://xu.vercel.app/post/2021/10/20/ebe0fd672cfa55b6/</a></p></blockquote><h2 id="一、搭建nacos-server2-0-3"><a href="#一、搭建nacos-server2-0-3" class="headerlink" title="一、搭建nacos-server2.0.3"></a>一、搭建nacos-server2.0.3</h2><blockquote><p><a href="https://nacos.io/zh-cn/docs/quick-start.html">官方搭建文档</a></p></blockquote><h3 id="下载编译好的包"><a href="#下载编译好的包" class="headerlink" title="下载编译好的包"></a>下载编译好的包</h3><pre><code class="shell">cd /optwget https://github.com/alibaba/nacos/releases/download/2.0.3/nacos-server-2.0.3.tar.gztar -xvf nacos-server-2.0.3.tar.gzcd nacos/bin</code></pre><h3 id="启动命令"><a href="#启动命令" class="headerlink" title="启动命令"></a>启动命令</h3><pre><code class="shell"># Linux/Unix/Mac# 启动命令(standalone代表着单机模式运行，非集群模式):sh startup.sh -m standalone# 如果您使用的是ubuntu系统，或者运行脚本报错提示[[符号找不到，可尝试如下运行：bash startup.sh -m standalone# Windows# 启动命令(standalone代表着单机模式运行，非集群模式):startup.cmd -m standalone</code></pre><h3 id="Centos7下启动提示"><a href="#Centos7下启动提示" class="headerlink" title="Centos7下启动提示"></a>Centos7下启动提示</h3><pre><code class="shell">[root@localhost bin]# sh startup.sh  -m standalone/usr/java/jdk1.8/bin/java -Djava.ext.dirs=/usr/java/jdk1.8/jre/lib/ext:/usr/java/jdk1.8/lib/ext  -Xms512m -Xmx512m -Xmn256m -Dnacos.standalone=true -Dnacos.member.list= -Xloggc:/opt/nacos2.0.3/nacos/logs/nacos_gc.log -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=100M -Dloader.path=/opt/nacos2.0.3/nacos/plugins/health,/opt/nacos2.0.3/nacos/plugins/cmdb -Dnacos.home=/opt/nacos2.0.3/nacos -jar /opt/nacos2.0.3/nacos/target/nacos-server.jar  --spring.config.additional-location=file:/opt/nacos2.0.3/nacos/conf/ --logging.config=/opt/nacos2.0.3/nacos/conf/nacos-logback.xml --server.max-http-header-size=524288nacos is starting with standalonenacos is starting，you can check the /opt/nacos2.0.3/nacos/logs/start.out</code></pre><h3 id="关闭服务器"><a href="#关闭服务器" class="headerlink" title="关闭服务器"></a>关闭服务器</h3><pre><code class="shell"># Linux/Unix/Macsh shutdown.sh# Windowsshutdown.cmd# 或者双击shutdown.cmd运行文件# 或者kill -15 进程id</code></pre><h3 id="请求测试"><a href="#请求测试" class="headerlink" title="请求测试"></a>请求测试</h3><pre><code class="shell">[root@localhost bin]# curl -v  http://127.0.0.1:8848/nacos* About to connect() to 127.0.0.1 port 8848 (#0)*   Trying 127.0.0.1...* Connected to 127.0.0.1 (127.0.0.1) port 8848 (#0)&gt; GET /nacos HTTP/1.1&gt; User-Agent: curl/7.29.0&gt; Host: 127.0.0.1:8848&gt; Accept: */*&gt; &lt; HTTP/1.1 302 &lt; Location: http://127.0.0.1:8848/nacos/&lt; Transfer-Encoding: chunked&lt; Date: Wed, 20 Oct 2021 01:27:10 GMT&lt; * Connection #0 to host 127.0.0.1 left intact</code></pre><p>默认访问地址和密码</p><pre><code>http://127.0.0.1:8848/nacosnacos/nacos</code></pre><h3 id="VMware设置"><a href="#VMware设置" class="headerlink" title="VMware设置"></a>VMware设置</h3><p>由于我的CentOS7是安装在虚拟机内（需要设置静态IP），若要宿主机所在局域网其他用户访问使用，还需要使用NAT功能，<strong>如果仅仅是个人测试，可以忽略该步骤</strong></p><p><strong>选择编辑-虚拟网络编辑器</strong></p><p>选择<strong>更改设置</strong>，授权</p><p><a data-fancybox="images" data-caption="image-20211020093340398" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245433.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245433.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245433.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020093340398"></a></p><p>选择<strong>NAT模式</strong>下的<strong>NAT</strong>设置</p><p><a data-fancybox="images" data-caption="image-20211020093456456" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245998.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245998.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245998.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020093456456"></a></p><p><strong>添加端口映射</strong></p><p>使用添加按钮，增加端口映射，另外需要<strong>额外开放9848 9849端口</strong>，我的虚拟机是192.168.122.22，大家的可能有所不同，如果是动态分配的，还请将centos设置为静态ip，再尝试NAT</p><blockquote><p>当nacos客户端升级为2.x版本后，新增了gRPC的通信方式，新增了两个端口。这两个端口在nacos原先的端口上(默认8848)，进行一定偏移量自动生成.</p><p>端口    与主端口的偏移量    描述<br>9848    1000    客户端gRPC请求服务端端口，用于客户端向服务端发起连接和请求<br>9849    1001    服务端gRPC请求服务端端口，用于服务间同步等</p></blockquote><p><a data-fancybox="images" data-caption="image-20211020093629368" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245145.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245145.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245145.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020093629368"></a></p><h2 id="二、Nacos简单使用"><a href="#二、Nacos简单使用" class="headerlink" title="二、Nacos简单使用"></a>二、Nacos简单使用</h2><p>登录上我们刚刚启动的nacos（nacos/nacos），大概界面如下</p><p><a data-fancybox="images" data-caption="image-20211020094818100" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245990.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245990.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245990.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020094818100"></a></p><p>由于我们是单机版，所以集群列表里面只有一台服务器</p><p><a data-fancybox="images" data-caption="image-20211020094908090" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245031.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245031.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245031.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020094908090"></a></p><h3 id="2-1-新建命名空间"><a href="#2-1-新建命名空间" class="headerlink" title="2.1 新建命名空间"></a>2.1 新建命名空间</h3><p>新建一个命名空间，待会儿，我们整合时就使用这个名为<code>springboot</code>的命名空间</p><p><a data-fancybox="images" data-caption="image-20211020095028546" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245246.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245246.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245246.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020095028546"></a></p><p><a data-fancybox="images" data-caption="image-20211020095132408" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245209.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245209.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201245209.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020095132408"></a></p><h3 id="2-2-新增配置"><a href="#2-2-新增配置" class="headerlink" title="2.2 新增配置"></a>2.2 新增配置</h3><h4 id="Data-ID"><a href="#Data-ID" class="headerlink" title="Data ID"></a>Data ID</h4><p>在 Nacos Spring Cloud 中，<code>dataId</code> 的完整格式如下：</p><pre><code class="yaml">$&#123;prefix&#125;-$&#123;spring.profiles.active&#125;.$&#123;file-extension&#125;</code></pre><ul><li><code>prefix</code> 默认为 <code>spring.application.name</code> 的值，也可以通过配置项 <code>spring.cloud.nacos.config.prefix</code>来配置。</li><li><code>spring.profiles.active</code> 即为当前环境对应的 profile，详情可以参考 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html#boot-features-profiles">Spring Boot文档</a>。 <strong>注意：当 <code>spring.profiles.active</code> 为空时，对应的连接符 <code>-</code> 也将不存在，dataId 的拼接格式变成 <code>$&#123;prefix&#125;.$&#123;file-extension&#125;</code></strong></li><li><code>file-exetension</code> 为配置内容的数据格式，可以通过配置项 <code>spring.cloud.nacos.config.file-extension</code> 来配置。目前只支持 <code>properties</code> 和 <code>yaml</code> 类型。</li></ul><h4 id="Group"><a href="#Group" class="headerlink" title="Group"></a>Group</h4><p>默认为DEFAULT_GROUP,可以对不同类型的微服务配置文件进行分组管理。配置文件通过，可以用作多环境、多模块、多版本之间区分配置。<br>SpringCloud<code>spring.cloud.nacos.config.group=GROUP</code></p><p>SpringBoot<code>nacos.config.group=GROUP</code></p><h4 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h4><p>推荐使用命名空间来区分不同环境的配置，因为使用<code>profiles</code>或<code>group</code>会是不同环境的配置展示到一个页面，而Nacos控制台对不同的<code>Namespace</code>做了Tab栏分组展示</p><p><a data-fancybox="images" data-caption="image-20211020100455356" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246414.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246414.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246414.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020100455356"></a></p><p>添加如下配置：</p><p><a data-fancybox="images" data-caption="image-20211020101502465" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246688.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246688.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246688.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020101502465"></a></p><p>yaml文件如下：</p><pre><code class="yaml">server:  port: 8082  servlet:    context-path: /demo    session:      timeout: 7200s  # 开启gzip  compression:    enabled: true    mime-types: application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css,text/javascript    min-response-size: 2KB</code></pre><p>添加完成，为后面整合做准备</p><p><a data-fancybox="images" data-caption="image-20211020101601866" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246687.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246687.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246687.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020101601866"></a></p><h2 id="三、SpringBoot整合Nacos2-0-3"><a href="#三、SpringBoot整合Nacos2-0-3" class="headerlink" title="三、SpringBoot整合Nacos2.0.3"></a>三、SpringBoot整合Nacos2.0.3</h2><blockquote><p>[官方文档](<a href="https://nacos.io/zh-cn/docs/quick-start-spring-boot.html">Nacos Spring Boot 快速开始</a>)</p><p><a href="https://nacos.io/zh-cn/blog/2.0.3-release.html">Nacos 2.0.3版本发布，继续提升集群稳定性及升级稳定性</a></p><p><a href="https://github.com/nacos-group/nacos-examples/tree/master/nacos-spring-boot-example">官方demo</a></p></blockquote><p>注意官方博客中的【客户端支持2.0】，所以这次我们整合的的包应该是0.2.10，因为版本 <a href="https://mvnrepository.com/artifact/com.alibaba.boot/nacos-config-spring-boot-starter">0.2.x.RELEASE</a> 对应的是 Spring Boot 2.x 版本，版本 <a href="https://mvnrepository.com/artifact/com.alibaba.boot/nacos-config-spring-boot-starter">0.1.x.RELEASE</a> 对应的是 Spring Boot 1.x 版本。</p><blockquote><p>目前Golang、C#、Cpp、nacos-spring-boot，客户端已经支持了nacos2.0的grpc能力，欢迎大家试用</p><ul><li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.1.10">nacos-spring-boot v0.1.10</a></li><li><a href="https://github.com/nacos-group/nacos-spring-boot-project/releases/tag/0.2.10">nacos-spring-boot v0.2.10</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-go/releases/tag/v2.0.0-Alpha.1">nacos-sdk-go v2.0.0-Alpha.1</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-csharp/releases/tag/v1.1.0">nacos-sdk-csharp v1.1.0</a></li><li><a href="https://github.com/nacos-group/nacos-sdk-cpp/releases/tag/1.0.8">nacos-sdk-cpp v1.0.8</a></li></ul><p>Python的多语言客户端正在紧张开发中，相信很快能与大家见面。 Nodejs部分欢迎社区小伙伴一起参与建设~</p></blockquote><h3 id="3-1-注意事项"><a href="#3-1-注意事项" class="headerlink" title="3.1 注意事项"></a>3.1 注意事项</h3><h4 id="版本问题"><a href="#版本问题" class="headerlink" title="版本问题"></a>版本问题</h4><p>整合过程中发现nacos客户端在初始化<code>NacosBootConfigurationPropertiesBinder</code>时，如果spring-boot版本太高，可能报错，本人从2.5.x降级为2.3.12.RELEASE才正常</p><pre><code>nested exception is java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata</code></pre><h4 id="服务器读取nacos配置出错"><a href="#服务器读取nacos配置出错" class="headerlink" title="服务器读取nacos配置出错"></a>服务器读取nacos配置出错</h4><p>如果nacos的配置中有中文 直接运行jar可能会报错 编码不同导致的</p><pre><code class="java">org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputExcept</code></pre><p>解决方案是 java 命令增加 编码选项</p><pre><code class="shell">-Dfile.encoding=utf-8 </code></pre><h4 id="整合其他cloud的客户端"><a href="#整合其他cloud的客户端" class="headerlink" title="整合其他cloud的客户端"></a>整合其他cloud的客户端</h4><p>如果你并不是使用<code>nacos-spring-boot v-x.x.x</code>而是如下配置</p><pre><code class="xml">         &lt;dependency&gt;            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;            &lt;version&gt;$&#123;nacos.version&#125;&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;            &lt;version&gt;$&#123;nacos.version&#125;&lt;/version&gt;        &lt;/dependency&gt;</code></pre><p>注意bootstrap.yml不生效的问题，可通过以下方式解决</p><p>在启动时增加环境变量的配置 </p><pre><code>spring.cloud.bootstrap.enabled = true</code></pre><p>或者</p><pre><code>spring.config.use-legacy-processing = true</code></pre><h3 id="3-2-配置管理"><a href="#3-2-配置管理" class="headerlink" title="3.2 配置管理"></a>3.2 配置管理</h3><p>demo项目地址：<a href="https://github.com/xucux/nacos-config-discovery-demo/tree/main/nacos-config-discovery-springboot">https://github.com/xucux/nacos-config-discovery-demo/tree/main/nacos-config-discovery-springboot</a></p><p><strong>注意：我这边没有配置启动类中的<code>@NacosPropertySource(dataId = &quot;example&quot;, autoRefreshed = true)</code>这个注解</strong></p><p><strong>application.yml</strong></p><pre><code class="yaml">spring:  application:    name: nacos-config-discovery  profiles:    active: dev  config:    use-legacy-processing: true</code></pre><p><strong>application-dev.yml</strong></p><p><code>namespace: 24373c8c-3894-419b-83eb-b6b9433a9721</code>就是上文中创建的名称为<code>springboot</code>的命名空间</p><pre><code class="yaml">nacos:  discovery:    server-addr: 192.168.122.22:8848    username: nacos    password: nacos  config:    server-addr: 192.168.122.22:8848    username: nacos    password: nacos    namespace: 24373c8c-3894-419b-83eb-b6b9433a9721    data-id: nacos-config-discovery-dev.yaml    auto-refresh: true    group: TEST_GROUP    type: yaml    bootstrap:      enable: true      log-enable: true</code></pre><p>启动项目，控制台输出</p><p><a data-fancybox="images" data-caption="image-20211020113255129" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246719.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246719.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246719.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020113255129"></a></p><h3 id="3-3-服务注册"><a href="#3-3-服务注册" class="headerlink" title="3.3 服务注册"></a>3.3 服务注册</h3><p>使用注解@PostConstruct，在服务启动后自动向Nacos服务注册</p><pre><code class="java">@Configurationpublic class NacosRegisterConfiguration &#123;    @Value(&quot;$&#123;server.port&#125;&quot;)    private int serverPort;    @Value(&quot;$&#123;spring.application.name&#125;&quot;)    private String applicationName;    @NacosInjected    private NamingService namingService;    @PostConstruct    public void registerInstance() throws NacosException &#123;        namingService.registerInstance(applicationName, &quot;127.0.0.1&quot;, serverPort, &quot;DEFAULT&quot;);    &#125;&#125;</code></pre><p>启动应用后，在Nacos管理界面可以看到新注册的服务实例</p><p><a data-fancybox="images" data-caption="image-20211020104109153" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246794.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246794.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201246794.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020104109153"></a></p><h3 id="3-4-服务调用"><a href="#3-4-服务调用" class="headerlink" title="3.4 服务调用"></a>3.4 服务调用</h3><p>模拟调用获取学生信息</p><p>创建一个项目<code>nacos-config-discovery-producer</code></p><p>详细工程地址：<a href="https://github.com/xucux/nacos-config-discovery-demo">https://github.com/xucux/nacos-config-discovery-demo</a></p><p>主要使用<code>nacos-config-discovery-springboot</code>调用<code>nacos-config-discovery-producer</code></p><p>启动两个工程，可以发现nacos上已经出现了两个服务：</p><p><a data-fancybox="images" data-caption="image-20211020123913609" href="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201247119.png" ><img src="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201247119.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xu-ux/static/img/blog/2021/10/202110201247119.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20211020123913609"></a></p><p>在<code>nacos-config-discovery-springboot</code>中创建一个Controller，作为对外api和接口消费者</p><pre><code class="java">@Slf4j@RestController@RequestMapping(&quot;/student&quot;)public class StudentController &#123;    @NacosInjected    private NamingService namingService;    private RestTemplate restTemplate = new RestTemplate();    /**     * 获取学生信息     * @param id     * @return     */    @GetMapping(&quot;/info/&#123;id&#125;&quot;)    public Object getStudentInfo(@PathVariable(&quot;id&quot;)Integer id)&#123;        Map&lt;String,Object&gt; info = new HashMap&lt;&gt;();        info.put(&quot;id&quot;,id);        info.put(&quot;info&quot;,queryStudentInfo(id));        return info;    &#125;    private JSONObject queryStudentInfo(Integer id) &#123;        try &#123;            if (namingService != null) &#123;                // 选择user_service服务的一个健康的实例（可配置负载均衡策略）                Instance instance = namingService.selectOneHealthyInstance(&quot;nacos-producer-service&quot;);                // 拼接请求接口url并请求选取的实例                String url = &quot;http://&quot; + instance.getIp() + &quot;:&quot; + instance.getPort() + &quot;/demo/student/detail/&quot;+id;                ResponseEntity&lt;JSONObject&gt; entity = restTemplate.getForEntity(url, JSONObject.class);                return entity.getBody();            &#125;        &#125; catch (Exception e) &#123;            log.error(&quot;查询学生数据失败&quot;, e);        &#125;        return null;    &#125;&#125;</code></pre><p>在<code>nacos-config-discovery-producer</code>中创建一个Controller，作为服务生产者</p><pre><code class="java">@Slf4j@RestController@RequestMapping(&quot;/student&quot;)public class StudentController &#123;    /**     * 获取学生信息     * @param id     * @return     */    @GetMapping(&quot;/detail/&#123;id&#125;&quot;)    public Object getStudentInfo(@PathVariable(&quot;id&quot;)Integer id)&#123;        Map&lt;String,Object&gt; info = new HashMap&lt;&gt;();        info.put(&quot;id&quot;,id);        info.put(&quot;userName&quot;,&quot;test&quot;);        info.put(&quot;nickName&quot;,&quot;小明&quot;);        return info;    &#125;&#125;</code></pre><p>调用接口</p><pre><code class="shell">[root@localhost bin]# curl -X GET http://192.168.1.212:8082/demo/student/info/1&#123;&quot;id&quot;:1,&quot;info&quot;:&#123;&quot;nickName&quot;:&quot;小明&quot;,&quot;id&quot;:1,&quot;userName&quot;:&quot;test&quot;&#125;&#125;</code></pre>]]></content>
    
    
    <summary type="html">关于Nacos-server2.0.3的搭建过程，以及SpringBoot整合Nacos</summary>
    
    
    
    <category term="编程" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="后端" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="SpringBoot" scheme="https://xu-ux.github.io/tags/SpringBoot/"/>
    
    <category term="Nacos" scheme="https://xu-ux.github.io/tags/Nacos/"/>
    
  </entry>
  
  <entry>
    <title>详解java中的byte类型</title>
    <link href="https://xu-ux.github.io/post/2021/10/12/ecd6c7b9993a66f4/"/>
    <id>https://xu-ux.github.io/post/2021/10/12/ecd6c7b9993a66f4/</id>
    <published>2021-10-12T01:10:57.000Z</published>
    <updated>2021-12-03T06:19:02.932Z</updated>
    
    <content type="html"><![CDATA[<p>byte，即字节，由8位的二进制组成。在Java中，byte类型的数据是8位带符号的二进制数。</p><p>在计算机中，8位带符号二进制数的取值范围是<code>[-128, 127]</code>，所以在Java中，byte类型的取值范围也是<code>[-128, 127]</code>。</p><span id="more"></span><h2 id="取值范围分析"><a href="#取值范围分析" class="headerlink" title="取值范围分析"></a>取值范围分析</h2><p>为什么是-128到127</p><p>首先1字节8位，还要加上符号位，这个好理解<br>比如：<br>0000 0001 表示10进制 1<br>1000 0001 表示10进制 -1</p><p>但是上面的这个负数并不是计算机存在内存中的数据，存在内存中的数据是原码的补码，实际存的是:</p><p><a href="#%E5%8E%9F%E7%A0%81%EF%BC%8C%E5%8F%8D%E7%A0%81%EF%BC%8C%E8%A1%A5%E7%A0%81">关于原码补码反码看这里</a></p><pre><code class="java">1000 0001 原码1111 1110 反码1111 1111 补码 这个才是-1</code></pre><p><strong>那最大的补码是：</strong></p><p>byte的最大正数就是 01111111（最高位必须是0），也就是 127</p><p><strong>那最小的补码是：</strong></p><p>首先是负数</p><p>1000 0000 (补码)-&gt; 1111 1111(反码) -&gt; 1000 0000(原码) 还原原码后 -128</p><p>1111 1111 (补码) 还原原码后 -1</p><p>由此我们可以看出来二进制从 00000000 到01111111到10000000到 11111111</p><p>即 十进制从 0 到 127 到 -128 到 -1。</p><pre><code class="java">        int a = 0;        int b = 127;        int c = -128;        int d = -1;        System.out.println(String.format(&quot;%8s&quot;, Integer.toBinaryString(a &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));        System.out.println(String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));        System.out.println(String.format(&quot;%8s&quot;, Integer.toBinaryString(c &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));        System.out.println(String.format(&quot;%8s&quot;, Integer.toBinaryString(d &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;));</code></pre><p>输出</p><pre><code class="shell">00000000011111111000000011111111</code></pre><h2 id="原码，反码，补码"><a href="#原码，反码，补码" class="headerlink" title="原码，反码，补码"></a>原码，反码，补码</h2><p>注意：我们这里举列的原码和反码只是为了求负数的补码，在计算机中没有原码，反码的存在，只有补码。</p><h3 id="一-原码"><a href="#一-原码" class="headerlink" title="一.原码"></a>一.原码</h3><p>1.正数的原码就是它的本身</p><p>假设使用一个字节存储整数，整数10的原码是：0000 1010</p><p>2.负数用最高位是1表示负数</p><p>假设使用一个字节存储整数，整数-10的原码是：1000 1010</p><h3 id="二-反码"><a href="#二-反码" class="headerlink" title="二.反码"></a>二.反码</h3><p>1.正数的反码跟原码一样</p><p>假设使用一个字节存储整数，整数10的反码是：0000 1010</p><p>2.负数的反码是负数的原码按位取反（0变1,1变0），符号位不变</p><p>假设使用一个字节存储整数，整数-10的反码是：1111 0101</p><h3 id="三-补码（再次强调，补码才是在计算机中的存储形式。）"><a href="#三-补码（再次强调，补码才是在计算机中的存储形式。）" class="headerlink" title="三.补码（再次强调，补码才是在计算机中的存储形式。）"></a>三.补码（再次强调，补码才是在计算机中的存储形式。）</h3><p>1.正数的补码和原码一样</p><p>假设使用一个字节存储整数，整数10的补码是：0000 1010（第三次强调：这一串是10这个整数在计算机中存储形式）</p><p>2.负数的补码是负数的反码加1</p><p>假设使用一个字节存储整数，整数-10的补码是：1111 0110（第三次强调：这一串是-10这个整数在计算机中存储形式）</p><h3 id="四-在计算机中，为什么不用原码和反码，而是用补码呢？"><a href="#四-在计算机中，为什么不用原码和反码，而是用补码呢？" class="headerlink" title="四.在计算机中，为什么不用原码和反码，而是用补码呢？"></a>四.在计算机中，为什么不用原码和反码，而是用补码呢？</h3><p>因为在使用原码，反码在计算时不准确，使用补码计算时才准确。</p><p>1.使用原码计算10-10</p><pre><code class="shell">  0000 1010  #（10的原码）+ 1000 1010  #（-10的原码）------------------------------------------------------------  1001 0100   #（结果为：-20，很显然按照原码计算答案是否定的。）</code></pre><p>2.使用反码计算10-10</p><pre><code class="shell">  0000 1010 #（10的反码）+ 1111 0101 #（-10的反码）------------------------------------------------------------  1111 1111 #（计算的结果为反码，我们转换为原码的结果为：1000 0000，最终的结果为：-0，很显然按照反码计算答案也是否定的。）</code></pre><p>3.使用补码计算10-10</p><pre><code class="shell">  0000 1010 # （10的补码）+ 1111 0110 # （-10的补码）------------------------------------------------------------1 0000 0000 # （由于我们这里使用了的1个字节存储，因此只能存储8位，最高位（第九位）那个1没有地方存，就被丢弃了。因此，结果为：0）</code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;byte，即字节，由8位的二进制组成。在Java中，byte类型的数据是8位带符号的二进制数。&lt;/p&gt;
&lt;p&gt;在计算机中，8位带符号二进制数的取值范围是&lt;code&gt;[-128, 127]&lt;/code&gt;，所以在Java中，byte类型的取值范围也是&lt;code&gt;[-128, 127]&lt;/code&gt;。&lt;/p&gt;</summary>
    
    
    
    <category term="编程" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="后端" scheme="https://xu-ux.github.io/categories/%E7%BC%96%E7%A8%8B/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="JavaSE" scheme="https://xu-ux.github.io/tags/JavaSE/"/>
    
  </entry>
  
  <entry>
    <title>hexo常用命令和Front-matter以及配置</title>
    <link href="https://xu-ux.github.io/post/2021/10/10/fac9d98ac9d768af/"/>
    <id>https://xu-ux.github.io/post/2021/10/10/fac9d98ac9d768af/</id>
    <published>2021-10-10T01:20:35.000Z</published>
    <updated>2021-12-03T06:19:02.932Z</updated>
    
    <content type="html"><![CDATA[<p>这篇文章主要是记载Hexo的一些命令，以及Front-matter，还有就是config文件，方便后续查询使用</p><span id="more"></span><blockquote><p>Hexo网址</p><p>指令：<a href="https://hexo.io/zh-cn/docs/commands">https://hexo.io/zh-cn/docs/commands</a></p><p>Front-matter: <a href="https://hexo.io/zh-cn/docs/front-matter">https://hexo.io/zh-cn/docs/front-matter</a></p></blockquote><h2 id="部分指令"><a href="#部分指令" class="headerlink" title="部分指令"></a>部分指令</h2><h3 id="new"><a href="#new" class="headerlink" title="new"></a>new</h3><pre><code class="bash">$ hexo new [layout] &lt;title&gt;</code></pre><pre><code class="bash">hexo new post &quot;专栏文章.......&quot;</code></pre><p>新建一篇文章。如果没有设置 <code>layout</code> 的话，默认使用 <a href="configuration.html">_config.yml</a> 中的 <code>default_layout</code> 参数代替。如果标题包含空格的话，请使用引号括起来。</p><pre><code class="bash">$ hexo new &quot;post title with whitespace&quot;</code></pre><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>-p</code>, <code>--path</code></td><td>自定义新文章的路径</td></tr><tr><td><code>-r</code>, <code>--replace</code></td><td>如果存在同名文章，将其替换</td></tr><tr><td><code>-s</code>, <code>--slug</code></td><td>文章的 Slug，作为新文章的文件名和发布后的 URL</td></tr></tbody></table><p>默认情况下，Hexo 会使用文章的标题来决定文章文件的路径。对于独立页面来说，Hexo 会创建一个以标题为名字的目录，并在目录中放置一个 <code>index.md</code> 文件。你可以使用 <code>--path</code> 参数来覆盖上述行为、自行决定文件的目录：</p><pre><code class="bash">hexo new page --path about/me &quot;About me&quot;</code></pre><p>以上命令会创建一个 <code>source/about/me.md</code> 文件，同时 Front Matter 中的 title 为 <code>&quot;About me&quot;</code></p><p>注意！title 是必须指定的！如果你这么做并不能达到你的目的：</p><pre><code class="bash">hexo new page --path about/me</code></pre><p>此时 Hexo 会创建 <code>source/_posts/about/me.md</code>，同时 <code>me.md</code> 的 Front Matter 中的 title 为 <code>&quot;page&quot;</code>。这是因为在上述命令中，hexo-cli 将 <code>page</code> 视为指定文章的标题、并采用默认的 <code>layout</code>。</p><h3 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h3><pre><code class="bash">$ hexo generate</code></pre><p>生成静态文件。</p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>-d</code>, <code>--deploy</code></td><td>文件生成后立即部署网站</td></tr><tr><td><code>-w</code>, <code>--watch</code></td><td>监视文件变动</td></tr><tr><td><code>-b</code>, <code>--bail</code></td><td>生成过程中如果发生任何未处理的异常则抛出异常</td></tr><tr><td><code>-f</code>, <code>--force</code></td><td>强制重新生成文件<br>Hexo 引入了差分机制，如果 <code>public</code> 目录存在，那么 <code>hexo g</code> 只会重新生成改动的文件。<br>使用该参数的效果接近 <code>hexo clean &amp;&amp; hexo generate</code></td></tr><tr><td><code>-c</code>, <code>--concurrency</code></td><td>最大同时生成文件的数量，默认无限制</td></tr></tbody></table><p>该命令可以简写为</p><pre><code class="bash">$ hexo g</code></pre><h3 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h3><pre><code class="bash">$ hexo publish [layout] &lt;filename&gt;</code></pre><p>发表草稿。</p><h3 id="server"><a href="#server" class="headerlink" title="server"></a>server</h3><pre><code class="bash">$ hexo server</code></pre><p>启动服务器。默认情况下，访问网址为： <code>http://localhost:4000/</code>。</p><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>-p</code>, <code>--port</code></td><td>重设端口</td></tr><tr><td><code>-s</code>, <code>--static</code></td><td>只使用静态文件</td></tr><tr><td><code>-l</code>, <code>--log</code></td><td>启动日记记录，使用覆盖记录格式</td></tr></tbody></table><h2 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h2><pre><code class="bash">$ hexo deploy</code></pre><p>部署网站。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>-g</code>, <code>--generate</code></td><td>部署之前预先生成静态文件</td></tr></tbody></table><p>该命令可以简写为：</p><pre><code class="bash">$ hexo d</code></pre><h3 id="render"><a href="#render" class="headerlink" title="render"></a>render</h3><pre><code class="bash">$ hexo render &lt;file1&gt; [file2] ...</code></pre><p>渲染文件。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>-o</code>, <code>--output</code></td><td>设置输出路径</td></tr></tbody></table><h3 id="migrate"><a href="#migrate" class="headerlink" title="migrate"></a>migrate</h3><pre><code class="bash">$ hexo migrate &lt;type&gt;</code></pre><p>从其他博客系统 <a href="migration.html">迁移内容</a>。</p><h3 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h3><pre><code class="bash">$ hexo clean</code></pre><p>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</p><p>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p><p>Front-matter 是文件最上方以 <code>---</code> 分隔的区域，用于指定个别文件的变量，举例来说：</p><pre><code class="yaml">---title: Hello Worlddate: 2013/7/13 20:46:25---</code></pre><h2 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h2><p>以下是预先定义的参数，您可在模板中使用这些参数值并加以利用。</p><table><thead><tr><th>参数</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td><code>layout</code></td><td>布局</td><td><a href="/zh-cn/docs/configuration#%E6%96%87%E7%AB%A0"><code>config.default_layout</code></a></td></tr><tr><td><code>title</code></td><td>标题</td><td>文章的文件名</td></tr><tr><td><code>date</code></td><td>建立日期</td><td>文件建立日期</td></tr><tr><td><code>updated</code></td><td>更新日期</td><td>文件更新日期</td></tr><tr><td><code>comments</code></td><td>开启文章的评论功能</td><td>true</td></tr><tr><td><code>tags</code></td><td>标签（不适用于分页）</td><td></td></tr><tr><td><code>categories</code></td><td>分类（不适用于分页）</td><td></td></tr><tr><td><code>permalink</code></td><td>覆盖文章网址</td><td></td></tr><tr><td><code>excerpt</code></td><td>Page excerpt in plain text. Use <a href="/docs/tag-plugins#Post-Excerpt">this plugin</a> to format the text</td><td></td></tr><tr><td><code>disableNunjucks</code></td><td>Disable rendering of Nunjucks tag <code>&#123;&#123; &#125;&#125;</code>/<code>&#123;% %&#125;</code> and <a href="/docs/tag-plugins">tag plugins</a> when enabled</td><td></td></tr><tr><td><code>lang</code></td><td>Set the language to override <a href="/docs/internationalization#Path">auto-detection</a></td><td>Inherited from <code>_config.yml</code></td></tr></tbody></table><h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><p>The default layout is <code>post</code>, in accordance to the value of <a href="(/docs/configuration#Writing)"><code>default_layout</code></a> setting in <code>_config.yml</code>. When the layout is disabled (<code>layout: false</code>) in an article, it will not be processed with a theme. However, it will still be rendered by any available renderer: if an article is written in Markdown and a Markdown renderer (like the default <a href="https://github.com/hexojs/hexo-renderer-marked">hexo-renderer-marked</a>) is installed, it will be rendered to HTML.</p><p><a href="/docs/tag-plugins">Tag plugins</a> are always processed regardless of layout, unless disabled by the <code>disableNunjucks</code> setting or <a href="/api/renderer#Disable-Nunjucks-tags">renderer</a>.</p><h3 id="分类和标签"><a href="#分类和标签" class="headerlink" title="分类和标签"></a>分类和标签</h3><p>只有文章支持分类和标签，您可以在 Front-matter 中设置。在其他系统中，分类和标签听起来很接近，但是在 Hexo 中两者有着明显的差别：分类具有顺序性和层次性，也就是说 <code>Foo, Bar</code> 不等于 <code>Bar, Foo</code>；而标签没有顺序和层次。</p><pre><code class="yaml">categories:- Diarytags:- PS3- Games</code></pre><div class="note"><p>warn 分类方法的分歧</p></div><p>如果您有过使用 WordPress 的经验，就很容易误解 Hexo 的分类方式。WordPress 支持对一篇文章设置多个分类，而且这些分类可以是同级的，也可以是父子分类。但是 Hexo 不支持指定多个同级分类。下面的指定方法：</p><pre><code class="yaml">categories:  - Diary  - Life</code></pre><p>会使分类<code>Life</code>成为<code>Diary</code>的子分类，而不是并列分类。因此，有必要为您的文章选择尽可能准确的分类。</p><p>如果你需要为文章添加多个分类，可以尝试以下 list 中的方法。</p><pre><code class="yaml">categories:- [Diary, PlayStation]- [Diary, Games]- [Life]</code></pre><p>此时这篇文章同时包括三个分类： <code>PlayStation</code> 和 <code>Games</code> 分别都是父分类 <code>Diary</code> 的子分类，同时 <code>Life</code> 是一个没有子分类的分类。</p><h3 id="JSON-Front-matter"><a href="#JSON-Front-matter" class="headerlink" title="JSON Front-matter"></a>JSON Front-matter</h3><p>除了 YAML 外，你也可以使用 JSON 来编写 Front-matter，只要将 <code>---</code> 代换成 <code>;;;</code> 即可。</p><pre><code class="json">&quot;title&quot;: &quot;Hello World&quot;,&quot;date&quot;: &quot;2013/7/13 20:46:25&quot;;;;</code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;这篇文章主要是记载Hexo的一些命令，以及Front-matter，还有就是config文件，方便后续查询使用&lt;/p&gt;</summary>
    
    
    
    <category term="博文" scheme="https://xu-ux.github.io/categories/%E5%8D%9A%E6%96%87/"/>
    
    
    <category term="hexo,博客搭建" scheme="https://xu-ux.github.io/tags/hexo-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>hexo使用grunt实现自动化</title>
    <link href="https://xu-ux.github.io/post/2021/09/27/8686122d46a23fb2/"/>
    <id>https://xu-ux.github.io/post/2021/09/27/8686122d46a23fb2/</id>
    <published>2021-09-27T07:28:03.000Z</published>
    <updated>2021-12-03T06:19:02.932Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="9f237d1d8a9f5161ab17fcdcd9fc7f144ab9535f5668091f8b1108f9d26fc28a">24d155d77c74164c84884574dc36d69d5fe7507516e04088336adedaa71532c11433f56aa4b34faec180a09f60db037910224091ece40039cbbfd142caeb3357680bc92e8dbab1ffcef6cfa7979565b21499377e848be7faaf69eaeeee06c736ba675e06995bb41ea082f5d2f1a86de4169e98587451e778e7676656d923141771edd702fec3bc763d92547a6d31b239877eb65a5b17df5b354b3694bcf7b29405558738f5db3fe2f90cf2ddd5bc8f91408607f194f5970d2887d5dc776aa97024fe2b67ae1f7e3f1cf9ef96f612a47b24bc7165ce7520fe89c055c7f8f0a8ce2629b47e688d0b321b00cd462ab6c318f18a595d426402f2279def903852623967caf0813161dd5ab73ceb9ae811405b0e2b3e959beabb103dfd1772487766c010a499f95ad8b0eeeeeaf565db5619656a29ebd960b4734a5ebb73848341026adaeb3c3d538689fab057dd7faa0116aeb040a1dec098195d7f3d4adb84022a71f45ca66531011da5bca5a1cd94b03c9947a2919129f630cd917321f3180ee3b2c137fdbcfa6aad3a2545e2b5f92387e3a3fd227db660394af0f41ba822852bc1837f231c0c80ca885be0976b2fd5ec4a24e65c213273972ebf8d065c08082c08845d6939e99864b2bf205f16963b280f355c14a2d3a1e7295254a5309cb707c8898d9c1884fff1aa2b34ade091186423b0d612c181006b0032fd9104d1233772c5def3aa74f8a960405d6878f49fb75e91f024b1c29abb71d25884e27fcbb0effc87aa89cbee237b6f055f36831814746675c0263d17ec6585de965ca2edf13f12c7be6d59f7312a342a9f62b12e70a6f305516a7407cf72cc11abcf934f8f7f629fbb2f37a1fedbf2d33207bb3b07f9bd8fc83da28c9694c09e6506a71578acecd62083d09952a0ae6eea9bfa6218ce92bdbb8d6c10ab22e7a17745ea9b817ea3e1f4984cbb384afc7fa679764d8825c96517efea26bce00bd3172ed483e95810e31964fcc95a7cd4dc3f242b6989366e18a17fee44aedbaf6b7435d45938171d7a95f18d37c1f6b9ca191649937bdbe37c1d22736c6cd8d91453ec4a35fe0a3c3de0b1f402cc4c4ef1e4b476f167405b3be9220ac9aa8c26593d9cdcddedab3baa948af67cc6ed80416390070a924ecfdbbb26b561efd458b9e6d90571e9fec2a1763690119c7916a5e63cb16984a30b4e5f7b63764e33b0f3c4905ed875c884302ea11fd253242528bbc983edac17751163e91a88a7be81e8f24b2b5c872b3f62d8335084ac7ccdbd0fdfbe4acc0e106be61cf7349a1e5388c12b0a904e9e2f852c5ebdf85be2cc56c75bc0c2a8b236cddb65ba5801fe9060d67424b0901b717072a9fed08a3a96c35586d9eb31484f6862ad8bb10f3e875b76ef023c4601bacf47336ffe20e4520eccb9aee51d514338766f388b5a2d78fae12388e9812ae47f5497195f9e576912eb7e35d8072d7584f5655d5ab4e3056242a7b3eeeee953ec154c942387872d3a1dde856c755cffc78ca53e423b636a3d8ba74d21e01afed563e7844ebe84eccad93922a977e5710e5d3258db78caa911200fed327084b4a713956b3556b0d1020b1698c97783c000fbb758283a8499ca02fc0452137b02be4d5bd5406fb866ad013400db53bd633d51721a65558238ee56c1908533d56967b6de153e7e4484d9e571afa30e0f6f3e663ef18443e52d66af7ae1fb805d84245cc86cb38bdb6166062e2e973497fb053eda72ea2383d7a5264784b5b7a9db8590a801c571056a3c154cd9bc079f96dc865fa7cc2afb87a12a9f66d51d81951fa34fafac19b783fe6dbb5d9b2ff2fa58e2d9f429da47793c6669fe07a7fc551e906a7b74e3a8a9db4b9713fd14eb2804ff8303632552346e6540cde8a22669cf637ec5a1e723e9fb10aecea5fad65894bc1667abeb0afd05da58eeca024ae47ad5ea970536e81e843c7987fac0602ca2605103d013f10b44b79f2dedcd0310d3aaa960983480f90d3c325eecd23c5ea79fbc603d3a3f705a5e7387b7a00b53fb1a9216f7f8856c4fb8eeb70072b2e2fe682eb8352621592c217e17fc92543153aa3e285edcd9f2127137b28ed5fbe5a8e6ea044fab876b567e0bd3409c1e0043223fef902747d8e2bb8df9cbdfdaff674ec2d4678eeba2e8e41a79cd8dec6ac047556c8efb7c7b5d36dca6e0cca128ce60c1cd972766f28b44b8eddd85d9e11a750dc73bc55db3db711002ca20efdaeba053823776e52935db476f3a528b8e566ad0b97dc708967f64a7ffdeb89bb2a52083e42974bbf795af3f982096729dbe5099feb035142d2ece472dcb95ad6d34202671ab3c62ac7ece5f5898ab24f67aea05382d401781b5e0d1b29ffe5f786dad82bb5f38c0f6e9898f5806da8c40344d3d556179a00dec320bff8aafaa9e15fba2376dd7d3470f0e4c53fd5282a08e01d14e70c0dc5ce7806a5ca685f12d645598f0d9e6d6791a90eb6ad52b34769e4955de72a1fa976a3474cc6976f7de7b20d09d0721be2a3379d5f5d870cf1f37c2839bdf6fe68b678feab0d3beb19b5f8fd174b0679f2e70d06e08314a60022c860c751afe2b03e3c1829c0fb04d555b01de6ced222d6b2d5b9213cef7233a0c6f6067e18a9f5d2fd48e6a8c307a4732ab2f9c6d976284e5384f67578488f130b5b854e1da3fd7871a4e8e64c2655c7c122f7304de139de96dc8532626f4c0c66555b0ad7195c017e86ccf61331589ee52c3b5e680d437aa0009f76a63294bcecf72fb922fa8b11650c197623cffe9aa7e38e98c55d36a8f86434f90ba541f45f38b2d3b2b02598d795a3a00caf90afb6502183c299cda2541e1e91628ba2ff5f9fbdb6c96e1eff758ea8b700e69ae9c0029b38d164b17b5b95b68a69756dd44122e49bb172126122f926bd8b5323ffd3d84756e98a66f26a2bd57bd31d39ac42cc3a7e2b4c6bba9c1b6e6000fb2f72391e4fb095ab780908e6412bbd86ca53c322bd87c4a51f057f9eb5d920759a8c82352da492b1592d8334c6690742e1a97cf59190fb0553591ffb51625d75a3df28235ccf0630cab8a3463a3a8e99ebc9bdf81a63ffc5fbd131e3723469350228f3902a994910057b5f2870373eea014d4dcf68ac13e7cd30cd31301a7fed274d435965116b6dbecf746eab31b2aec17914e3ea1f633a00a1ee2d54b1c10e6efed60915a3d8a1a21a23e697156588a821fd9a2baf23ce74f3c607348610797194c1cb38f49761030cd0f9a893c6f461b65f8603be48624c0a7ab4f4a22a895ccda3c7ce41f49620cc56cdaf179a712fc9201b3ad259f7f51984f803832b24c615af48bd90e82e909e3373ff6ba1e0b2529adba9dd3570b555fdb74037fb183628369a85ac23d96f8b3efc03fcf2d0fb5c74406613ee1c714de2e185e5ac27b2fe7ee2b34d1d8497a6ce81c9bb17dc473cf5663b0363c9c03db69a320ff6fbbfa4e05daea154dc1cb3a1f51381f232fd176ebbf03fd5bc4840b124b8521b09ad190dc7ce3bd94e6e5f3c3301d05e2fd2c429413e130221d48baee6d9ddb4e7718f2526d211eaf10acf95064fc1f80ba2fdb0a04794d2331a5a74ff20c68f3c0d3184f5a9c1d84ee17d8d363d722e8adcbfe27dbeea27c865114b97a93cbe4e256fd5c3d75c47ebd727fcbf13133de195d07557f75e3d43c444b5b883285c6b8c124b0ebdffbf7e5ac3db3d5617ebdce5adfa9c43020f473d9e778672af94c5d3339fdff590f80277b6f46e9808afffd3136372ff29d1402e21050e588ea2b8f33bb2b50b27e6817ca12b681c95fb77ed18b04e4256ecd28832654d569c90db90f1e70b53e5755cfc3680f204785ee5600fdf89c797fe18e196dde02492e0edf9da71beae5113f0ace17ea1d127bdaad1a3c488232017fd50434c875efb2c3ef0e53087a5002b797aaedfb58034ec45b501b7b9eefd0a1c5f18885c8ef935ed8ab819042ff856fa5c7d71dfa7673c19a895057b6dfff72e134407d923604654618b31cb7c7efe5d4ed39d1a09e92239f127e71229918563bd5aec470f02f9a87f8e36d26a5e6029662cacee731c05528e8603a752beac7e09628a9c8f55d7e46632a498c81e88474c5e01d7686e601387e8de8dc8290fad2fe5214266b72caa87faa341a2fac30d3d2089d38ef67f8ea102a6d7428f268de7b12fa2311ededb396163336ad49a12dd694ee34808385c87c8c9e3426b80a77da8b4649d0ca27e53fd3cf2e3ca53afdfb8aebfb46c24b5769c2fe0ca94d9067f04f5be50fd87cbb49c5246301c81143c50dc23c54020f6445f3e2e8e3c5038f52b911a7a28fb6833086440680f7eb67e639f860195f58aac9f0a4d54bedd57b4e215b3c318429f56a1d28ba8b7abf6ecc3ea90861f3acc27d3d259ae0a31043474f137e124aafc9c638be40f43754671c06796d776cea0008129d1589eea2c8cfdcb20c72db6ceb9e032ec484f1c6c53025ef0e1fd61a631379be233febcf4e32cb722c4a469ccddb976d25caf93da88a44e62e7d22041ed5285d92658d6804d8c8449792b8af43a53a939fa6084264d911b8b3c456002ffbc90c3606b0e043eee272e478b6ae80bccb7b10182192085e4fcd734bcc3a07a33ea6560014fe41e080d6adadfcede6b28515080a974150e54ff62849711f77cf914f89b06d9f5e5b721c23a62d85fcf9b4a8a499953c46bbfab4c08e64e9ef912b711fdbc4c7c33d2ba76e40a3cd15e2dc45d8ae81c23dff1ec3c57b7846bf782b3367402e70ae77a952babb4027129ab7f356e18b436ea05b2655023b5abbda4e8e23097f2539acb58fd984609ddd688c1fd729e4b8ab488a8b917b8b09e58ad38767822563bc1bf2c723c53d565e0b2beea1b3701e666ec0ef798ebf4f816479039fb6ad9481ab38f58cb84e8d634f81e2fdcd994a1d7607b3d4721e9473e7dd5d74efa6a6b715d9ae283a8d4a1202a7c67c0e7618f8522a59852eb59f23687215c30320f8171540b19262765d8abd23122d1e63f762224ba299d6d997895c393129fb056f74a904cb4fc0b9a2f988ef06f2dce4ce93c0db54e512f9f6f81ef08253a2e56ec843f154ad37d667e57659be0b29a37cba63b550e0e209b6d3682e549a0af196f9ee31fa874f6f380145d70e0eae18ec6f97117585a838ab06ecb3a7572cbeeb227902ff4a2dc0e3d9e6dff71f52c7c7a70727bc5bb2c64c6c47752b958d44a74202e80c2eec28f9f12bf2a09a263516aa44e48c5a089dc2d70769806a587a6ef6d11921bccbec81b338364ce97dd0d742f57a4d0ee75099a650e26ad02834a52d55b9a7a464dbce7f209131bd5fbb52b10e5d783c86cd7351ff4835f87cb1440f23260bafeda3942b8263595876da8a5127443d24d622d6066c6ab001bc546087c98419038146d8ae53bdffd982f8a9a03a727010bf8cc99dd9cf3314922effeed7b4fa6bbdf4681ba21d08dd7601856b3a70db67805722e10c49059f041680a187e514280287b8036e35a2d48c7ba05fea3fd38418d7dd3d81fa224f2d29fad552e78dd0df4936ca59283c49b4b192cedd7661b922f37abeeedc1eb508f08a97fb9cdf5e4ab0f5273cbfe6411cef2c87772f1c46dec9b7636674b7002ad2c343f88a07630beaf494063e243090094500f679431c4f4b3100f2fbdbdf3c5ef6196f73a15a8a883b7e4df8ef2215a9bb50908e2ee68defa97d037ad22dfca13671cb5e545ddde7d190263a9fedffb88cb0d5a3f1e2a812d34bab4651c4fddc66d7dabb6de764fbd982c885298daa85c029ad89f7048cb6f27b024548caf759434c51eae37309357e5dd8a57b7f9ee0880bd6d1a9e1e4cc013bed771e10712528395229b0f53190596c12ed21b0a201ed13f18daaae15af8e4fba554236af0025c460da1fe887cb68ae067885ce2e336e1ba16ac540019433f4657a6a81416e4bb394bd1500413da706c79747ab561a24bddae691cfc68f81ecb773e47eddbe4cb99017bf682a6ac6724fa01e8cb0fc4efa35247bd821f643cdc6e05cc17c0671cd160234a3bc8d4c8b5576614fab0dabca8bac93673b6f7f1b6350d01ecf5d6badcf831b77ed610b760e5f54bf0234a02a8718421ceec3fda4ce363d967647f35417880210960e14e07ec49ae69e21b60c3d5d062440134de4c703a95c799ecdd48f98f5bb7af0fd2f5a74dc21a3e4b6fcc3aebb27796c5c1e35c5fb08a77501fac756303a71dbca88d8c5ca603d1289559fc2c469bc9dab1530485024d18b6210e5c937ae60fbd0db26a69011ca1be92321fa80c4b0f96e60db6c87111a9b4a9493b80a45d437064aae4f7c6405ad25d424039b8373d2e2350f65ffcde61c8fee481182af06704e8da445035274f66dba8e9941c5d086c4f346641a06ae980bbe9e06d1044420f2b6014a30597ec3476ef66a5e682c616884079d54bdae22040254719a98df690d5f5bc6c12c23d41ec06f9671ee779ab069fc2b28d9bd66f9ce150bede618b7a80f7c10614eae9ac0120890a42636e77abad1f18f5a7c622ef11801146dd4981ea8575c0e8c11bb3776642dedef36495d89bdc1d8c8c4f769e603ef5bd6829e0abf2eb85a5c64f9ec28fe0422dab0ddc3d23b05ee24b1053430679a138434bec0ab2b21344a3469f2bcf88b2a1a84c46d5ac7ae99a2a00e7aa40a434ad671bf556cae0a5b1abe7d1a0686dbfb54e671487da46d86c332692fbaad631e9a853011665cc691aaf8d3f02686d44e055452f929c4c3dcc52acd6e03809671c6236e6ca755cec73bee7d2ef93f2832aecda62a7e525e06c3ee869f191e5629569e74dad81ce94c707fb5d76011939bd4d103b0d36a833ff087ccb53cf690a2c77bbd2c022bec67c491bb3ec16ca883a7095c77e110dd2bfaf4276acea7a2cfc7676cebf8dcdf5fd2e90f9b862fa790ae5b24222b49aeb537ce6f23fdd5a2f26766471c8e890981bb6e65338eb9402664ab0ff95ece23ca8fd79ecedf13305d94ae24ce4a629f7e28b6330796e0367d83525124d6d74e6099415661b7668b21e03cb724c4d22cd3cef94ef1c7a4dd0bf348e02be1a7d603732b3109f193560c735f0adba85e4c49e3a924c7b28682984e0bf58b7804fa4ef19c041035801d6cd986465215f18b0fd1eea3bcef387564e27e132dcf8f881edc9a56f2ca61fd008ad5678d810f1a56e37512a5c755a3bde51198fb6ec43fc040fdf235b4488c2576a7127cf1f6d3a752305d76d3dc7e51a854055c9cceba0ac86de5cf9a19e4690259defe94687b750b47c07fc591bdae688d7a5cc6a2560b4b01d126f45d69a13cab27ab7f2b7398c138117119c4b18275fef31dc849d3267993430b17b5d6003aad4ff4a6b8bf047d70d62b6c71000313a303498326e626cd548f3b0a0a2e99482c151fd1cfcf9e34866667a621a2325d55bb15a2811e7bb8fbca8ecd687935e7adb66e07844cf0967aa808f31c6c2bf7dd286245171c9e37a196456ab85f419917fff3b2db5208f2ec074cfe5e9072f4aea2ccfcee148e5e7d6790b6c34404b8cf2be3503dff8e9671449b964e7d8a7a0ec5c138e2089d322bfef71628665755b572e8f583e9fe8e846bd04e47b8b4f875e854c5f38fc100c7d4e3e00f1bead4d4ba6830aceaefa59438ad7dcbe27cfb416f18b3d36aafd3435253701f9e3f3f346c7d962e8e72936f2f011e9eb11ae7d83653dd6e7ceac66afab32e16f8528d9ac85da46b3d5bcb68ea8070ec03623cf580d1a3a00ef76a4677ae25809e0fcc70f7300e77ecb6bf3934e540f09a38db48b93afea050bd01a2719926ed17df69ddad156ace7ec976759908cc25283ad25286e179a0e2a4285c601aaf03cd2f575bc34d89064542b4200d5992e3ddeae8f4a677987eb4b29c4f6ace1c3cca5963c6cbdbca533e6ce7a0b33c1b4c6846f37dd4ae9938b4cef3ae8ec82e76533610274d710d6efef24db067ef5ed3652dd4e2f5cd9145c912d9ea6b0df3f082a20a7031a96dc416c2252b4c694a1391bde4b7f2741518df27cd8a8e8fea41936f25e37721a6d915fa9337e840306273b483e1410e75ed0708988e8a7f30c1d7c08a1fd0e01513f05dc77ce71d43c2abd31c7b268e634f020cdbcf42b02cf90b591249d7de66090cbcdea32b6639634ffeeabf740bf122c18a954ee60706e21deaa2bfdc51821dc6c5a98ab344a94b318f8dfe44be9c7c79295d36e5cbcf158fe1081598fb40f15529f09a5388693674c7e9c82e8513e9786ba7f7431fb91b16512d39666ff1db11112a2dc528050f4aa56c2195dc98e3b63db5b48afdcd560fbb3331a360c79763fc970a699aae29e4e50e9a9226292cb5f19b56e541711bd6b1cdf6e775ea5d89e31ba34f1204e320623b873312564ee98e1456c41f3059c12ffa4a0232e12294be286584b41d60263772ccb6d6bde546c5199bd863716dc3b14854cdbda62f6e4e9c25f999240946d0b399f393988be3a256c269c63a51ff2c47ee8b0971848dba9b9ddcd7ab489977cb64a53ebc3182098666746562b0fb1a122304673e32a8f5116e91e5a34911b46d64506c8205085433e6e20efa4fe2552dff8dd714c0d918d31c55352c5dcf92d916a2c7fd2b80b81fb7389f365ab656583a943114bb4b9185d0873df0266347c5452c49daf16293189c975240f4900250582d23c2edb8c629599964329794b082c12e22f08bf49b64f11ae134cdf78ab26233de1f20715245f9f0c3568444d7c9df340d5fca1f85363c5147bbc4ebebc642cf7c72258cd4b07e08eee29f76e4d2bba69468fd5e076d525aca8e80f85ecbf52eee399c00cdff0a0797f5c2d8d492d0e129a0515145defd78b293b02e70d55e987edf420a7b09b0bdf8f245d2c70f23c987e7d104ecd86b2202378020415bfb3da786e2a43e6ecbe666ca55ade501846e55ad80cdb71603e7514ca0d8ce91dbca5c2d8be3492db55289a66b09fcc721fb2601671e7902c7761cfd3b2eea1c9eaf8157fb96b135b049f52628eac41605d9b9bd4ac78b225fabc7ccfc037c5872d7bf7e8ab56dacfc84d6637e77f99bc84db2bab72ff391f7bcf7398c3d0ed42650904cc7e8d1a9d9f7f44b5fd2f908f007ad11c8be304d219e1020e3e6cdd5713e7b9cec13676ed35cb650345c0de8cea8be904fcb4b47d658d1da416168443001640200cc2b56db05b1f9081a6d18dc7ee24a4276d7c7b41a26e00074cbecfe9fad09c0eb0cfa8d786067101120f7702e7a5fba42ba99d1f86faa72b3901323e724cb737e937a1b500f3e40e3b406103eb32ec73689ed653b1f705c9666569d2d61de799503a78ee65eb6c1facd42fa3e8e75fef794b8df4a344584caff259151045fa571f4a99c242ef88fdbd055daf742b5e06edd94a48ad3b89bbe501354f388550e51642d5341cc294a111318f24ae7ab6de583b1a0a4a12e8b6a8eee4ab0216418a94a7de3b80d75f519391688c5c5d252ff041d07a10eed5d5aa906e9a8c33c8b85608c1f10b94d3a27e9646c67cbd213d680add72b8e5a97017fb296b4f14d5ff8f83a4f761a1ab6b08986b394e582851af12dab507af6867886aea40c744d29446f7b0a16f95937d42dc3d20c2dcefd2047e6010d29cc25de4c0c78bd1775db6d447013c83f2edb72dba5beaef32213e4945164362a335324c60d42474b6ae7567bc510d4d553ae1dce1adb45de55bd54b43729622838633917692ac8115438de9c6e9f575ce40096dc40edbd962e2f6f94e5c179aae679c4b1fae6e47ad9ce9e39532644d078cd2405ca3e925afc4b4a00b5450cea3225b61af9753163b201309f19cb589d6d7c951be0bf06e336701eb5b4e8bc824c98d14ea66f94b95a459b750a64b8d85601522da4f4ca1a711793fe5c390e1fe3149c0a47965c1dcf4400818d6f47af64dcaeabf062dc240ba7a3152eb0e5d2823bcb72a8010faa28999d3ee45ddb9b582f077385ef12f1e0ab243f675bed3060d5c30f30bdbdb58253e793913dc18603fd7721e0a49e1a41ac57be9f07e626138e53b68ebd9e1e004ad2aa060053599aef6e9e5f3c468610103ef55fdeead12b3c089e8b3c8011813d789e18d6687d11a7be0efc8e34d262432b16bbcf520e6fae52799198e5171e79be3dc9e8d86fb1408fdcdf5f4b679665be0b3912810e6e9af27aa829c385d47229a8f987f48fb0c78aefe8593174d470be129cf9b612b6ceb52dccab0259b406da72ecf3891fae7e2e752b8d3b09cc815ae9717085a14e41b7ef9a93b085086af07689ad1860086cb5d65a925e5a74ba3f64e601a5b89f3e968e6552e67170070d54c3d69db649b669a03afce898efd4806d64ef5c6a0a945b056311bbf57f95191d9587abfddcc3fad29b6394e1595b25b2e4c3802e3d4795481277c0572cf09a1c8de262ef6bcc4ab5220eac1e028a94fcf97e63327060fdda4e8304e30f05f5a9a4def9cede07614785d434fac938078cbf1316b093dccbba7aafe45baa082575355638e39e2702f7edc2142f5eb93fe3bf8dc115a493d202bf65bb86d75686a466e01c80e5bdd12a26e43dde1704cc0bec2f780d74a12ebeb168cf33aa09b3727b11b87f8fc5b9ffcb5b063d3d44ca82bbcb876782508d91db28999c4a0034ec72164a6d32aa95ae91639a397d3b5020f933516f52a116ce147dbd79ca8250f2004271e7f803c7d9c6b4cb8862e3c09a33b277292946c5e562011e5da6c3140e0d6a6ab148f9a10ae9116c5269c713b55d29c1e93e8f389d5c8a01532ca050ed3a24df6ca450a158b518ef98cc0bd55ca2f7d57298b6f7fee904ae53fc820e0aa2208f0045f9a28173aa4c31c4d162f161d36b2d578829be2eed4d8a3356b016c7840bd590d2baf59a898b961668d043fee4cd9672a43ec577f56cf74fb61100cd9504daef5d4f1d8c2129ed4a0c0dacebecf416bb232b76b720e4c80fa24c45ac1734e87968280eddd0696ee2dbb139864d2c4905335d42f83b41c9e2d5811adb0ef933864d3048bde796a0e0a6348f294fffa00f225dac50c7c039f52b81658587781acbe0794066610945e02735f54ba85c704412c86b096ac9c72093d08d22a32326c51763889fd1046dc3ffb6669526e511c6bd491227ceb03ccf437257f07937e036974bffc8735a63f211ef8ac9dbc73018ee12214041870961ec328e6eb1b282eae7c3c4bf35a7eb1348f820f57dadec7cd1de6ba2ccdda2de4adbf5dc177c9852ccd6758880fc0a24089c97b55a251807cac2499c2ff6d8a1f7f66c11a878b28df9bedc31b2df44ee0a4ea628f50746cff49c1bd6962d7d12b01774cb38e58eebe1468908357dfa5c47105b0db8498f770d245c07f7483dbc5c93069569de5017bc027c6fc8e009adf346e594d1314807bd002d34b655738397dd4fb527ef64502187841492f8a7361c94826d0a3c32f81bbbb2cdad3f005112835c80e70b9205b65fed37ebac9ba258b2038ba209efb7ee196e7adc406d07e8ba5c6e2d5ddcca9070a2018bda0eb83d156b80e840525292d226cfc42607e986e033a63515811e52e5fa8f55339063387c1c53b9569b628b0440929a8306d71e870e0724412d1aa891a927278776987fd39975c36e5e36cb3c3da472d9d50f7aa4ba400d7aff470b50090edf37bf54ecefdac7658f76389c9bf6db17435e07bcba78fabfbfd776cd5af82b1ed4ae4499be8f1d68237463c889411f4a68940d8ee70d337210ab2999f7f837abb8556923fc4b89bf1b9a643e6b67d3b41c6b7bc5d24acdc3c5ee56e67f38a7d9b04ff5dfaca7afce1c4c182e223e7e039b18cf3170cc446c2fafbc2e033393b37c92e958729d8d8959ba1b666a2fe4d98fc14c74d186e7fb9fe5aa8cc6c9b410a297f3bc287d5e32450405f0c93ca248878e19a61e5afae814da4b83a04bdf192894fcd582440504f23800fca682ac64aabc20bc2046d9974cb678307673d6850777c3e5ae540858ad1af052b6248d0096f368bc79be2fb69d946a99568c2e32e37fb1c948760c5202a70490dbf38534d8e16169e190a32bdcbd2e3f73125b106d725a5374c716205e1020b57246e2c6b233599018006a74e0f47658241af5e8c9bc446ab1b5a0dd91f5208f4dcae8c5b88bbfa62e73eba50d837eef99e6a9d579088bdc4947850b34bace374a4a5832c4f345144c87f6bcde003cf59828868c01d8c3ab10fd278e7c835d2d4d379de7f3203849f5c79cf92fa3e76cc7723346af433166ce74156b5864cbcfebe6b5fc7205f7b08b4fe973c7f25dda98113ddc8836c89cccedb2c431a77d40c8e94f1d969f41f098e0da3e2237bfdd6178ee4dbfaa0fc60cadb535faaeb7fcb6c97fa11420eb94ef0f83898780795e327fbc373462b7dd51baf01fe80378ac66acb167d33ae913650deed029df9a632f35e69f4d82f2ca079ab0ba7285f9ea3648c8d11bbb2c4c04b0987e075e437a352f75d4939052f4fb8360a5c11464928c0c07ce41a96f35ce0323db8adbd59ac0296fd5bfaa660f9e914802731937d9e20d80c113da102b33493962de0a3a87defc194329a8de2c7ecafd719be32301a52a296d37a67b54b8f2383caaec2886917332c66c77bb38bfc4b43253af59cbbceb11f5c6b3ae77176c8edb31c8fafa4ab772b50f73b0b9fcc84389d9e5c70ee1522be2a81d1d8f2cbf2c8ae5fb016c539d41b713a43d37bb39a5fd7e68e38dae2860d564ad1c6556cf10ace1ab3315d7d01ba67964db06eab65665b71199abd1cb62b2c9817bf627654bc6236b22be3ad1aed06f6367347f62b0448566f828f5c46e7a9413a6da4ec7f3168e9581d6bf39b2765508a13e5fe645935040999721ea72e45d8cf2ca76ca6eaf70c0016538c1b70c4225d82c4d097571853fbc2c8fbd910c31d995595bcbd9b2d051306f23073d4349142d7942f75653d0784dcb0ae19bcdf9c6bdfc9731e8b05307a7f2012b953f84c1e86295b912b7f978394b2a4cc4140d7785a2438c39fad0e688c51316bbe1702d23e5ae6c9844b25422dc6516e90d835bbc8e71d437bcc2df0ee26b3252afeb0147347a9b21d6f26bb8354b9ccce65a4b5c24f10b8292847e82da5e416b4fe1de38185d2576f06dbcd3cc95faa9052d407669a924e71b59a3b9cc00559cdfc11e227ee2fa662b4686119a6381f58f5fc7754a51ac8d1cfa8ba589725012d17201c9670d204a2e22cca94e7966e8f41f148a5bec4bf80ca3983e0bd68755ecddb2fc9469d62d4cc3e0fe7fcbb5cac39ed16ace75a1d769a0e108d7443a61a32450aaa2196b0c3e2b0d9f11eca6787456fe516a99330776460937bc2c5297830ebda2d9656e4fddf10728bf41ffcbe7fb380c17ca8d7b42e3cda27e36ff341603d4933b18c4c07650c171d809f4b84055dbdd860d390a1d90ae5e111ae10730f37f903e965fbeed67a95659c7c39d2c1b2d606e62508ee724921c585a688ace0e8fd24f5caee4982538ea33db89741214aa5c4f63c5112f420b5ba4e3cf921ee2ae07</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-surge">      <input class="hbe hbe-input-field hbe-input-field-surge" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-surge" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-surge" data-content="您好, 这里需要密码.">您好, 这里需要密码.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-surge" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M1200,9c0,0-305.005,0-401.001,0C733,9,675.327,4.969,598,4.969C514.994,4.969,449.336,9,400.333,9C299.666,9,0,9,0,9v43c0,0,299.666,0,400.333,0c49.002,0,114.66,3.484,197.667,3.484c77.327,0,135-3.484,200.999-3.484C894.995,52,1200,52,1200,52V9z"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">有东西被加密了, 请输入密码查看.</summary>
    
    
    
    <category term="博文" scheme="https://xu-ux.github.io/categories/%E5%8D%9A%E6%96%87/"/>
    
    
    <category term="加密" scheme="https://xu-ux.github.io/tags/%E5%8A%A0%E5%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>这是一篇加密文章</title>
    <link href="https://xu-ux.github.io/post/2021/09/21/e123e993e31ce43b/"/>
    <id>https://xu-ux.github.io/post/2021/09/21/e123e993e31ce43b/</id>
    <published>2021-09-21T03:55:17.000Z</published>
    <updated>2021-12-03T06:19:02.932Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="924a15ea9fb7e6e5ca52003909448b1bdfcf785f2eba53a0be99e8652351950d">10d79030e8222445804370796b90fca106f15dd47c03b7cc3ac7fb0590359f37987dc2725e45591fa78955b40a237c578ed6505d9442b8f450cdf134d071988f10831585cd8d561ed62583f8aff0f3591ec01d26277b92ede73438843f07ef3e912077a939416efe48479e89fab4e3673d7c08ecd4fb966e7f0a9b11ca9d60b5e06e40856020185b0a001959152a31e5a7104f0877f96e118b0deb3e25e2a12d1ee367cfe4f0e4020204037534df1484aea7d42183b13a2f2d5619909729da16fc0c12ea43b9094f372f4f0bfcea2ba974c43ed9731a7d9c36f72db117bc273d8f0006118ba54ba72a5853969fbc29302d977972b953f504c08e439fc89588f8b65493bb1f89b286e7f106217968896a9324c96ec65bf59d5b335c4473c28b01abd63e5866efb498878ea5d0052e33125573210bbb1c654436b08f02af8fdc8864d47964d9be06d4f2ac9d2fc2944756803cabd3c57f239f7a3bae8e6ff2b7b5132e52326cbee9023751e7752df979ef6a926dc98b3738feb351db59316a5c047e7bfa7de2acee1a80c1ae40d3c744587613d49f2c7855b5ec7054ea928c78b92428250e58f71917ca8842d44c0d8a4de9350155af53249e46ec17816e1651eb84ee2ebdb34b5c64af3a5e2ef67a0b12af08e472eaa378b2e58cd9ad1a4b308f3af90c44f52995ccd7a3ff064dc5225b5002f8fb05463cde5b99a50cbc846fb92ae909982cc59d7ac42d060293635293b39b8358499a05e6d026be5757277413782ffcd456ba86b46240617e9124f10b778ab5820312d94ffa832c9267c9c806575a8cdbe67fc1a2287f7074b81ca442c67e7d1048b7b8f9591f46cbbc3b5d0c1f741d6fae550c8b2f1481e6a2dff8ebc7b1e5616de0ebd1a30eb033a4ef4cfd65958a7c93800f076d9c10d020add10dc2b838147e81c71b1371253177aaa5e393781dde2113624e5d5915e98f910da0ba840ab39d271b42c319d5ec83b5f5160060a70fb659119bef091b60aaa94d664ae9086d27d7992a7cccdac68eda95b2ce1b68a6f4b8625347b82d999366e05f01fe511bfd6705871ac2e37e8935240ac9f7dedd0f37088832e83c2d028625d11b2cf08c633cef33f355e545e56477f1bf8f16d284f3276a0086fc34db525e95185ae91ce6dc75bb7bc34ef6cf12d6498d0799560c16359bcf4399fc2fe8be2a38dac535f24e4b63ecabd750890299efcb1221994ef050120655faa481cca3612bc0621c6b26ca9955e23940ec089f9504c4ec6e1ed40baa3aa45904715cb0dd3c343a5ceb14bc14e58d7f0bbb48685cb58a0cdca7ca431ee586266bd529307ae00c2e76e97e5287d5169ae88dba1597918bc9f10adb854a12b2d71e40070e21cc2c73105377dcb33cf95737ff703c44571dd3071412fca8329aea4e80e7ae73d63b5e04bf06fad561725be7dfc7c2f5cb3ae3215eda6c893e29a70f95b8c374c19994c7076b18f6574d84a4af7f65548105a3108e63b553178eb19b876374e35d6a8709130345bc6eb8f0be4a76a62b3860663eaed7f9725588be14d2483e8ed883d79c6eefeef7220922a71e42916d5c97d6a58aa148f7cb0ef196e48a823f37e2f649deacb83033b789d5354bd1d27f8323df1908e7ddc7c21aa09c082a41fe1929dce794d6f59b5597c5a78ebe918578579c5fa967debda9815172f90797a439489f8a0590d8b93ce1ec490f0a97fd9e2f13d1a96a45160e53cb383b5b24</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-surge">      <input class="hbe hbe-input-field hbe-input-field-surge" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-surge" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-surge" data-content="您好, 这里需要密码.">您好, 这里需要密码.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-surge" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M1200,9c0,0-305.005,0-401.001,0C733,9,675.327,4.969,598,4.969C514.994,4.969,449.336,9,400.333,9C299.666,9,0,9,0,9v43c0,0,299.666,0,400.333,0c49.002,0,114.66,3.484,197.667,3.484c77.327,0,135-3.484,200.999-3.484C894.995,52,1200,52,1200,52V9z"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">有东西被加密了, 请输入密码查看.</summary>
    
    
    
    <category term="博文" scheme="https://xu-ux.github.io/categories/%E5%8D%9A%E6%96%87/"/>
    
    
    <category term="加密" scheme="https://xu-ux.github.io/tags/%E5%8A%A0%E5%AF%86/"/>
    
  </entry>
  
</feed>
